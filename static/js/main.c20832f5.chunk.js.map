{"version":3,"sources":["reportWebVitals.ts","hooks/useWindowSize.ts","common/utils.tsx","common/schedule_data.tsx","components/AppContext.tsx","components/DirectionsButton.tsx","components/InfoModal.tsx","components/MatchplayButton.tsx","components/TextPlaceholder.tsx","components/QuickTournamentInfo.tsx","components/ContentContainer.tsx","pages/Home.tsx","components/TableFilter.tsx","components/TableDataExport.tsx","components/MachineStats.tsx","pages/wednesdays/Stats.tsx","pages/wednesdays/Rules.tsx","pages/wednesdays/Schedule.tsx","assets/flip-pgh-com-logo-white.svg","components/MobileMenu.tsx","components/MenuItems.tsx","components/SideMenu.tsx","pages/superflip/components/SPLPageHeader.tsx","pages/superflip/components/SPLScheduleText.tsx","pages/superflip/SuperflipSchedule.tsx","pages/superflip/Overview.tsx","pages/superflip/MoreDetails.tsx","pages/superflip/utils/index.ts","pages/superflip/components/SPLStandingsTable.tsx","pages/superflip/SuperflipStandings.tsx","pages/superflip/components/SPLMatchplayLinks.tsx","pages/superflip/SuperflipMatchplayLinksView.tsx","FlipPghApp.tsx","components/ppl/StandingsTable.tsx","pages/ppl/tabs/OverallStandings.tsx","pages/ppl/UpdateMetadata.tsx","pages/ppl/utils/index.ts","pages/ppl/tabs/PointsByMeet.tsx","pages/ppl/PPLTabWrapper.tsx","pages/WPPRv6Analysis.tsx","App.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","useWindowSize","useState","width","undefined","height","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","getDirectionsLink","location","getFormatInfo","format","ordinal_suffix_of","i","j","k","custom_schedule","date","no_tournament_scheduled","no_tournament_msg","no_tournament_msg_detail","target","rel","href","AppContext","React","createContext","tournaments","_2022","concat","_2023","ignoredIds","forEach","tournament","linkedTournamentId","push","schedule","map","o","matchplayTournament","find","value","includes","tournamentId","startLocal","split","matchplay_link","id","getMatchplayLink","ifpa_link","scheduleItem","matchedTournament","last_event_date","tournament_id","findIfpaLink","json","ifpa_points","results","matchedResult","event_date","points","findIfpaPoints","ifpa_results","replace","status","matchplay_tournament_id","AppProvider","children","getContextValue","useCallback","Provider","DirectionsButton","link","displayText","primary","compact","Button","as","style","margin","InfoModal","header","content","iconSize","paddingLeft","Modal","trigger","Icon","name","color","cursor","size","closeIcon","Header","Content","MatchplayButton","TextPlaceholder","count","lines","Placeholder","Line","length","countdownRenderer","hours","minutes","seconds","completed","toString","padStart","QuickTournamentInfo","useContext","paddingBottom","Segment","marginBottom","fontStyle","nextTournament","item","moment","startOf","findNextTournament","startDateTime","milliseconds","textHeader","showCountdown","local","isAfter","directionsLink","display","toDate","renderer","ContentContainer","marginLeft","padding","marginTop","Grid","Column","mobile","tablet","computer","Home","to","TableFilter","locations","setFiltersFunc","setFilters","open","setOpen","filters","locationOptions","loc","key","text","_","sortBy","filtersAppliedText","icon","onClick","Label","circular","visibility","maxHeight","opacity","transition","Dropdown","placeholder","multiple","selection","closeOnChange","options","onChange","e","category","filter","TableDataExport","generateData","filenamePrefix","filename","blob","Blob","type","element","document","createElement","URL","createObjectURL","download","body","appendChild","click","removeChild","err","console","error","reducer","state","action","column","machines","slice","reverse","filteredMachines","direction","locationMap","some","o2","Error","games","_2022_games","_2023_games","MachineStats","useReducer","dispatch","newLocationMap","entry","machineStats","arena","existingEntry","playCount","playerCount","playerIds","totalPlaytimeSeconds","duration","avgSeconds","newEntry","Set","add","join","avgTime","avgTimeDisplay","utc","row","prefix","getFilenamePrefix","paddingTop","Table","celled","unstackable","sortable","Row","HeaderCell","sorted","Body","Cell","Stats","activeIndex","setActiveIndex","Accordion","styled","fluid","Title","active","index","titleProps","Rules","Schedule","isPastDatesOpen","setPastDatesOpen","futureDates","pastDates","renderTable","dates","includeTime","includeDirectionsButton","basic","collapsing","dateString","colSpan","backgroundColor","paddingRight","justifyContent","MobileMenu","navigate","useNavigate","Menu","fixed","inverted","Item","Image","src","logo","className","right","left","Divider","MenuItems","useLocation","pathname","SideMenu","vertical","overflow","SPLPageHeader","SPLScheduleText","SuperflipSchedule","Overview","MoreDetails","getTournamentIdTuples","ids","tournament_ids","adjustedPointsSort","standings","orderBy","data","computedData","log","newData","tournamentIds","players","player","totalPoints","playerId","weekScoreMap","id1","id2","firstGroupScore","tournamentPoints","secondGroupScore","parseInt","array","Object","values","sort","a","b","weeksPlayed","Math","ceil","keys","adjustedPoints","reduce","acc","averagePoints","createData","SPLStandingsTable","seasonId","Array","from","weekNumber","toFixed","week_1","week_2","week_3","week_4","week_5","week_6","SuperlipStandings","SPLMatchplayLinks","title","randomGroupsLink","tieredGroupsLink","fontWeight","alignItems","weektoDateMap","SuperflipMatchplayLinksView","stackable","columns","idTuple","FlipPghApp","path","StandingsTable","division","flexDirection","OverallStandings","season","centered","UpdateMetadata","update","useMemo","updates","seasonIds","every","included_season_ids","date_iso_utc","tz","guess","thursday","friday","sunday","renderMetadata","getWeeksPlayed","max","season_id","week_id","getCombinedStandings","rawStandings","dayMap","day","x","_id","minWeeksPlayed","min","maxWeeksPlayed","grouped","groupBy","combinedStandings","mergedPoints","daysPlayed","week","maxWeekScore","secondMaxWeekScore","pointsByWeek","getBackgroundColor","PointsByMeetLegend","border","PointsByMeet","dayPlayed","seasonOptions","PPLTabWrapper","_39_weeksPlayed","_39_thursday","_39_friday","_39_sunday","_40_weeksPlayed","_40_thursday","_40_friday","_40_sunday","_41_weeksPlayed","_41_thursday","_41_friday","_41_sunday","setSeason","panes","menuItem","render","Tab","Pane","oneYearAgo","subtract","twoYearsAgo","getDecayResult","momentDate","isSameOrBefore","getOverallEffPercent","total","original_points","event_value","getCurrentPointsTotal","wppr_state","current_points","getAdjustedPoints","currentPoints","overallEffPercent","targetWpprtunity","isNaN","Number","wpprtunity","excessPercent","pointsTaxed","processedPlayerResults","playerResults","position","event_name","processedTournaments","playerActiveTournamentResults","currentValue","tournament_name","current_value","eff_percent","WPPRv6Analysis","setWpprtunity","overallAdjustedPoints","tourn21Points","refEffPercent","refCurrentPoints","newAdjustedPoints","effectivePoints","effective_points","eff_percent_delta","calculateEffectivePoints","Input","label","textAlign","App","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c20832f5.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { useState, useEffect } from \"react\";\r\n\r\n// Referenced from here: https://usehooks.com/useWindowSize/\r\n\r\n// Define general type for useWindowSize hook, which includes width and height\r\ninterface Size {\r\n  width: number | undefined;\r\n  height: number | undefined;\r\n}\r\n\r\n// Hook\r\nexport function useWindowSize(): Size {\r\n  // Initialize state with undefined width/height so server and client renders match\r\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\r\n  const [windowSize, setWindowSize] = useState<Size>({\r\n    width: undefined,\r\n    height: undefined,\r\n  });\r\n  useEffect(() => {\r\n    // Handler to call on window resize\r\n    function handleResize() {\r\n      // Set window width/height to state\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      });\r\n    }\r\n    // Add event listener\r\n    window.addEventListener(\"resize\", handleResize);\r\n    // Call handler right away so state gets updated with initial window size\r\n    handleResize();\r\n    // Remove event listener on cleanup\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  }, []); // Empty array ensures that effect is only run on mount\r\n  return windowSize;\r\n}\r\n","import { ReactNode } from \"react\";\r\nimport { IfpaTournament, SimpleResults } from \"./@types/ifpa_types\";\r\nimport { Tournament } from \"./@types/matchplay_next_types\";\r\nimport { Standings } from \"./@types/matchplay_types\";\r\nimport { FormatType, LocationType, ScheduleItem } from \"./schedule_data\";\r\n\r\nexport const getMatchplayLink = (tournament?: Tournament) => {\r\n  const id = tournament?.tournamentId;\r\n  if (id) {\r\n    return \"https://next.matchplay.events/tournaments/\" + id;\r\n  }\r\n};\r\n\r\nexport const findMatchplayWinner = async (scheduleItem: ScheduleItem) => {\r\n  if (scheduleItem.matchplay_url_label) {\r\n    const path = `https://matchplay.events/data/tournaments/${scheduleItem.matchplay_url_label}/standings`;\r\n    const response = await fetch(path);\r\n    const standings: Standings[] = await response.json();\r\n    if (standings.length > 0) {\r\n      const winner = standings[0].name;\r\n      return winner;\r\n    }\r\n  }\r\n};\r\n\r\nexport const findIfpaLink = (\r\n  scheduleItem: ScheduleItem,\r\n  tournaments: IfpaTournament[]\r\n) => {\r\n  const matchedTournament = tournaments.find((value) => {\r\n    return value.last_event_date === scheduleItem.date;\r\n  });\r\n  const tournamentId = matchedTournament?.tournament_id;\r\n  if (tournamentId) {\r\n    return \"https://www.ifpapinball.com/tournaments/view.php?t=\" + tournamentId;\r\n  }\r\n};\r\n\r\nexport const findIfpaPoints = (\r\n  scheduleItem: ScheduleItem,\r\n  results: SimpleResults[]\r\n) => {\r\n  const matchedResult = results.find((value) => {\r\n    return value.event_date === scheduleItem.date;\r\n  });\r\n  return matchedResult?.points;\r\n};\r\n\r\nexport const getDirectionsLink = (location?: LocationType) => {\r\n  if (location === \"Kickback Pinball Cafe\") {\r\n    return \"https://goo.gl/maps/VxGNpVJoadYbCPQn7\";\r\n  }\r\n  if (location === \"Pittsburgh Pinball Dojo\") {\r\n    return \"https://goo.gl/maps/3Gx2gYpg3xuyaLucA\";\r\n  }\r\n  if (location === \"Coop De Ville\") {\r\n    return \"https://goo.gl/maps/8zW4bUvXdtKB1v8f9\";\r\n  }\r\n  if (location === \"Shorty's Pins x Pints\") {\r\n    return \"https://goo.gl/maps/KJDz1vYmiPJbs3PV9\";\r\n  }\r\n  if (location === \"Helicon Brewing (Oakdale)\") {\r\n    return \"https://goo.gl/maps/kdMdSSTVbUUw99D4A\";\r\n  }\r\n  if (location === \"Pins Mechanical Co.\") {\r\n    return \"https://goo.gl/maps/y5FoACAJour6cnWH7\";\r\n  }\r\n  return;\r\n};\r\n\r\nexport const getFormatInfo = (format: FormatType | undefined): ReactNode => {\r\n  switch (format) {\r\n    case \"3 Strike Knockout\":\r\n      return (\r\n        <ul>\r\n          <li>Random groups of 2, 3, or 4 players are formed each round</li>\r\n          <li>Bottom one or two players from each group receive a strike</li>\r\n          <li>\r\n            Players are eliminated from the tournament after receiving three\r\n            strikes\r\n          </li>\r\n        </ul>\r\n      );\r\n    case \"Fair Strike Knockout (6 strikes)\":\r\n      return (\r\n        <ul>\r\n          <li>Random groups of 2, 3, or 4 players are formed each round</li>\r\n          <li>\r\n            In four player groups, strikes are awarded as 0/1/1/2 for\r\n            1st/2nd/3rd/4th\r\n          </li>\r\n          <li>\r\n            In three player groups, strikes are awarded as 0/1/2 for 1st/2nd/3rd\r\n          </li>\r\n          <li>In two player groups, strikes are awarded as 0/2 for 1st/2nd</li>\r\n          <li>\r\n            Players are eliminated from the tournament after receiving six\r\n            strikes\r\n          </li>\r\n        </ul>\r\n      );\r\n    case \"Flip Frenzy (2 hours)\":\r\n      return (\r\n        <ul>\r\n          <li>\r\n            Random groups of 2 players are formed at the start of the\r\n            tournament, with one or two players in the queue for future matches\r\n          </li>\r\n          <li>\r\n            As games finish, one player from the finishing game will play again\r\n            immediately with the first person in the queue, while the other\r\n            player will join the back of the queue\r\n          </li>\r\n          <li>\r\n            Players will play as many games as they can within a two hour time\r\n            limit, then top 4 players with the best win/loss ratio will make\r\n            playoffs\r\n          </li>\r\n          <li>\r\n            Playoffs will be group match play with 3 games at 4/2/1/0 scoring\r\n            each game for 1st/2nd/3rd/4th determined by cumulative score. Two\r\n            banks of three games will be chosen at random and will attempt to\r\n            include one each of old/mid/new games; the top seed from qualifying\r\n            will have choice of what bank will be played for playoffs.\r\n          </li>\r\n          <li>\r\n            A tie for top seed will be broken by one ball on a random game. Ties\r\n            for a playoff spot will be broken by a random full game. All other\r\n            ties are broken by most wins.\r\n          </li>\r\n        </ul>\r\n      );\r\n    default:\r\n      return;\r\n  }\r\n};\r\n\r\ntype LocationMap = {\r\n  [location in LocationType]?: number;\r\n};\r\n\r\nconst pinballMapLocationIds: LocationMap = {\r\n  \"Coop De Ville\": 15006,\r\n  \"Helicon Brewing (Oakdale)\": 9942,\r\n  \"Kickback Pinball Cafe\": 3682,\r\n  \"Pins Mechanical Co.\": 18664,\r\n  \"Pittsburgh Pinball Dojo\": 10790,\r\n  \"Shorty's Pins x Pints\": 17078,\r\n};\r\n\r\nconst getLocationId = (name: LocationType): number | undefined => {\r\n  return pinballMapLocationIds[name];\r\n};\r\n\r\nconst baseLinkUrl = \"https://pinballmap.com/map/?by_location_id=\";\r\nexport const getPinMapLink = (name: LocationType): string => {\r\n  return `${baseLinkUrl}${getLocationId(name)}`;\r\n};\r\n\r\nexport const getPinMapMachineCount = async (name: LocationType) => {\r\n  const id = getLocationId(name);\r\n  const endpoint = `https://pinballmap.com/api/v1/locations/${id}`;\r\n  const response = await fetch(endpoint);\r\n  const data = await response.json();\r\n  return data.num_machines as number;\r\n};\r\n\r\nexport const getPinMapMachineDetails = async (name: LocationType) => {\r\n  const id = getLocationId(name);\r\n  const endpoint = `https://pinballmap.com/api/v1/locations/${id}/machine_details`;\r\n  const response = await fetch(endpoint);\r\n  const data = await response.json();\r\n  return data.machines;\r\n};\r\n\r\nexport const ordinal_suffix_of = (i: number): string => {\r\n  var j = i % 10,\r\n    k = i % 100;\r\n  if (j === 1 && k !== 11) {\r\n    return i + \"st\";\r\n  }\r\n  if (j === 2 && k !== 12) {\r\n    return i + \"nd\";\r\n  }\r\n  if (j === 3 && k !== 13) {\r\n    return i + \"rd\";\r\n  }\r\n  return i + \"th\";\r\n};\r\n","import { ReactNode } from \"react\";\r\n\r\nexport type LocationType =\r\n  | \"Kickback Pinball Cafe\"\r\n  | \"Pittsburgh Pinball Dojo\"\r\n  | \"Coop De Ville\"\r\n  | \"Shorty's Pins x Pints\"\r\n  | \"Helicon Brewing (Oakdale)\"\r\n  | \"Pins Mechanical Co.\"\r\n  | \"Location TBD\";\r\n\r\nexport type FormatType =\r\n  | \"3 Strike Knockout\"\r\n  | \"Fair Strike Knockout (6 strikes)\"\r\n  | \"Flip Frenzy (2 hours)\"\r\n  | \"Format TBD\";\r\n\r\nexport interface ScheduleItem {\r\n  date: string;\r\n  location?: LocationType;\r\n  ifpa_link?: string;\r\n  ifpa_points?: string;\r\n  matchplay_tournament_id?: number;\r\n  matchplay_url_label?: string;\r\n  matchplay_link?: string;\r\n  matchplay_winner?: string;\r\n  no_tournament_scheduled?: boolean;\r\n  no_tournament_msg?: string;\r\n  no_tournament_msg_detail?: ReactNode;\r\n  status?: string;\r\n  format?: FormatType;\r\n}\r\n\r\nexport const custom_schedule: ScheduleItem[] = [\r\n  {\r\n    date: \"2022-01-12\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-01-19\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-01-26\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-02-02\",\r\n    no_tournament_scheduled: true,\r\n    no_tournament_msg: \"NO TOURNAMENT THIS WEEK\",\r\n  },\r\n  {\r\n    date: \"2022-02-09\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-02-16\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-02-23\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-03-02\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-03-09\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-03-16\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-03-23\",\r\n    location: \"Coop De Ville\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-03-30\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-04-06\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-04-13\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-04-20\",\r\n    location: \"Shorty's Pins x Pints\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-04-27\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-05-04\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-05-11\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-05-18\",\r\n    location: \"Coop De Ville\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-05-25\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-06-01\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-06-08\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-06-15\",\r\n    location: \"Helicon Brewing (Oakdale)\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-06-22\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-06-29\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-07-06\",\r\n    location: \"Coop De Ville\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-07-13\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-07-20\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-07-27\",\r\n    location: \"Helicon Brewing (Oakdale)\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-08-03\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-08-10\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-08-17\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-08-24\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-08-31\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-09-07\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-09-14\",\r\n    no_tournament_scheduled: true,\r\n    no_tournament_msg: \"No Flip PGH tournament\",\r\n    no_tournament_msg_detail: (\r\n      <>\r\n        Pinball Profile: \"Played in America\" tour: Kickback Pinball Cafe, Wed.,\r\n        Sept. 14/22 [\r\n        <a\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          href=\"https://www.pinballprofile.com/event/played-in-america-tour-kickback-pinball-cafe-wed-sept-14-22/\"\r\n        >\r\n          Details/Registration\r\n        </a>\r\n        ]\r\n      </>\r\n    ),\r\n  },\r\n  {\r\n    date: \"2022-09-21\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-09-28\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-10-05\",\r\n    location: \"Helicon Brewing (Oakdale)\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2022-10-12\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"Flip Frenzy (2 hours)\",\r\n  },\r\n  {\r\n    date: \"2022-10-19\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2022-10-26\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2022-11-02\",\r\n    location: \"Helicon Brewing (Oakdale)\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2022-11-09\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2022-11-16\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"Flip Frenzy (2 hours)\",\r\n  },\r\n  {\r\n    date: \"2022-11-23\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2022-11-30\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2022-12-07\",\r\n    location: \"Helicon Brewing (Oakdale)\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2022-12-14\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2022-12-21\",\r\n    location: \"Pins Mechanical Co.\",\r\n    format: \"3 Strike Knockout\",\r\n  },\r\n  {\r\n    date: \"2023-01-11\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2023-01-19\",\r\n    location: \"Pittsburgh Pinball Dojo\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2023-02-08\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2023-03-08\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2023-04-12\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2023-05-10\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2023-06-14\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2023-07-12\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2023-08-09\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2023-09-13\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2023-10-11\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2023-11-08\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n  {\r\n    date: \"2023-12-13\",\r\n    location: \"Kickback Pinball Cafe\",\r\n    format: \"Fair Strike Knockout (6 strikes)\",\r\n  },\r\n];\r\n","import React, { useCallback } from \"react\";\r\nimport { custom_schedule, ScheduleItem } from \"../common/schedule_data\";\r\nimport {\r\n  findIfpaLink,\r\n  findIfpaPoints,\r\n  getMatchplayLink,\r\n} from \"../common/utils\";\r\nimport json from \"../common/ifpa.json\";\r\nimport ifpa_results from \"../common/ifpa_results.json\";\r\n\r\nimport _2022 from \"../common/matchplay_tournaments_1871.json\";\r\nimport _2023 from \"../common/matchplay_tournaments_2546.json\";\r\nimport { Tournament } from \"../common/@types/matchplay_next_types\";\r\n\r\nexport interface AppContextType {\r\n  schedule?: ScheduleItem[] | undefined;\r\n}\r\n\r\nexport const AppContext = React.createContext({});\r\n\r\nconst tournaments = (_2022 as Tournament[]).concat(_2023);\r\n\r\nconst ignoredIds: number[] = [];\r\ntournaments.forEach((tournament) => {\r\n  if (tournament.linkedTournamentId) {\r\n    ignoredIds.push(tournament.linkedTournamentId);\r\n  }\r\n});\r\n\r\nconst schedule = custom_schedule.map((o) => {\r\n  const matchplayTournament = tournaments.find((value) => {\r\n    if (ignoredIds.includes(value.tournamentId)) {\r\n      return false;\r\n    }\r\n    const date = value.startLocal.split(\" \")[0];\r\n    return date === o.date;\r\n  });\r\n  o.matchplay_link = getMatchplayLink(matchplayTournament);\r\n  // o.matchplay_url_label = matchplayTournament?.url_label;\r\n  // o.matchplay_winner = await findMatchplayWinner(o);\r\n  o.ifpa_link = findIfpaLink(o, json.tournament);\r\n  o.ifpa_points = findIfpaPoints(o, ifpa_results)?.replace(\"00\", \"\");\r\n  o.status = matchplayTournament?.status;\r\n  o.matchplay_tournament_id = matchplayTournament?.tournamentId;\r\n  return o;\r\n});\r\n\r\ninterface AppProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport function AppProvider({ children }: AppProviderProps) {\r\n  const getContextValue = useCallback(() => ({ schedule }), []);\r\n\r\n  return (\r\n    <AppContext.Provider value={getContextValue()}>\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n","import { Button } from \"semantic-ui-react\";\r\n\r\ninterface DirectionsButtonProps {\r\n  link?: string;\r\n  displayText?: string;\r\n  primary?: boolean;\r\n  compact?: boolean;\r\n}\r\n\r\nfunction DirectionsButton({\r\n  link,\r\n  displayText = \"Get Directions\",\r\n  primary = false,\r\n  compact = false,\r\n}: DirectionsButtonProps) {\r\n  if (link) {\r\n    return (\r\n      <Button\r\n        primary={primary}\r\n        compact={compact}\r\n        as=\"a\"\r\n        href={link}\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        style={{ margin: '.25rem'}}\r\n      >\r\n        {displayText}\r\n      </Button>\r\n    );\r\n  }\r\n  return <></>;\r\n}\r\n\r\nexport default DirectionsButton;\r\n","import { ReactNode } from \"react\";\r\nimport { Icon, Modal } from \"semantic-ui-react\";\r\nimport { IconSizeProp } from \"semantic-ui-react/dist/commonjs/elements/Icon/Icon\";\r\n\r\ninterface InfoModalProps {\r\n  header?: ReactNode;\r\n  content?: ReactNode;\r\n  iconSize?: IconSizeProp;\r\n}\r\n\r\nexport const InfoModal = ({ header, content, iconSize = \"large\" }: InfoModalProps) => {\r\n  if (content) {\r\n    return (\r\n      <div style={{ paddingLeft: \"1rem\" }}>\r\n        <Modal\r\n          trigger={\r\n            <Icon\r\n              name=\"info circle\"\r\n              color=\"grey\"\r\n              style={{ cursor: \"pointer\" }}\r\n              size={iconSize}\r\n            />\r\n          }\r\n          size=\"tiny\"\r\n          closeIcon\r\n        >\r\n          {header ? <Modal.Header>{header}</Modal.Header> : null}\r\n          <Modal.Content>{content}</Modal.Content>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n  return <></>;\r\n};\r\n","import { Button } from \"semantic-ui-react\";\r\n\r\ninterface MatchplayButtonProps {\r\n  link?: string;\r\n  displayText?: string;\r\n  primary?: boolean;\r\n  compact?: boolean;\r\n}\r\n\r\nfunction MatchplayButton({\r\n  link,\r\n  displayText = \"Go to Matchplay\",\r\n  primary = false,\r\n  compact = false,\r\n}: MatchplayButtonProps) {\r\n  return (\r\n    <Button\r\n      primary={primary}\r\n      compact={compact}\r\n      as=\"a\"\r\n      href={link}\r\n      target=\"_blank\"\r\n      rel=\"noopener noreferrer\"\r\n      style={{ margin: '.25rem 0'}}\r\n    >\r\n      {displayText}\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default MatchplayButton;\r\n","import { Placeholder } from \"semantic-ui-react\";\r\n\r\ninterface TextPlaceholderProps {\r\n  count?: number;\r\n  width?: string;\r\n}\r\n\r\nfunction TextPlaceholder({ count = 5, width = \"100%\" }: TextPlaceholderProps) {\r\n  const lines = [];\r\n  for (let i = 0; i < count; i++) {\r\n    lines.push(<Placeholder.Line length=\"very long\" key={i} />);\r\n  }\r\n\r\n  return (\r\n    <div style={{ width: width }}>\r\n      <Placeholder style={{ width: width }}>{lines}</Placeholder>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { TextPlaceholder };\r\n","import moment from \"moment\";\r\nimport { useContext } from \"react\";\r\nimport Countdown, { CountdownRenderProps } from \"react-countdown\";\r\nimport { Segment } from \"semantic-ui-react\";\r\nimport { ScheduleItem } from \"../common/schedule_data\";\r\nimport { getDirectionsLink, getFormatInfo } from \"../common/utils\";\r\nimport { AppContext, AppContextType } from \"./AppContext\";\r\nimport DirectionsButton from \"./DirectionsButton\";\r\nimport { InfoModal } from \"./InfoModal\";\r\nimport MatchplayButton from \"./MatchplayButton\";\r\nimport { TextPlaceholder } from \"./TextPlaceholder\";\r\n\r\nconst findNextTournament = (schedule: ScheduleItem[]) => {\r\n  let nextTournament = null;\r\n  for (let item of schedule) {\r\n    if (\r\n      moment(item.date) >= moment().startOf(\"day\") &&\r\n      !item.no_tournament_scheduled\r\n    ) {\r\n      nextTournament = item;\r\n      break;\r\n    }\r\n  }\r\n  return nextTournament;\r\n};\r\n\r\nconst getTodayDateString = () => {\r\n  return moment().local().format(\"YYYY-MM-DD\");\r\n};\r\n\r\nconst countdownRenderer = ({\r\n  hours,\r\n  minutes,\r\n  seconds,\r\n  completed,\r\n}: CountdownRenderProps) => {\r\n  if (!completed) {\r\n    return (\r\n      <>\r\n        <span>\r\n          -{hours}:{minutes.toString().padStart(2, \"0\")}:\r\n          {seconds.toString().padStart(2, \"0\")}\r\n        </span>\r\n        <br />\r\n        <br />\r\n      </>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nfunction QuickTournamentInfo() {\r\n  const { schedule }: AppContextType = useContext(AppContext);\r\n  if (schedule && schedule.length === 0) {\r\n    return (\r\n      <div style={{ paddingBottom: \"1rem\" }}>\r\n        <Segment compact>\r\n          <h3 style={{ marginBottom: \"unset\" }}>Next Tournament</h3>\r\n          <div style={{ fontStyle: \"italic\", marginBottom: \"1rem\" }}>\r\n            Wednesday Night Strikes\r\n          </div>\r\n          <TextPlaceholder width=\"285px\" />\r\n        </Segment>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (schedule) {\r\n    const scheduleItem = findNextTournament(schedule);\r\n    if (scheduleItem) {\r\n      const startDateTime = moment(scheduleItem.date)\r\n        .hours(19)\r\n        .minutes(0)\r\n        .seconds(0)\r\n        .milliseconds(0);\r\n\r\n      const today = getTodayDateString();\r\n      let textHeader = \"\";\r\n      let showCountdown = false;\r\n      if (today !== scheduleItem.date) {\r\n        textHeader = \"Next Tournament\";\r\n      } else {\r\n        if (moment().isAfter(startDateTime)) {\r\n          textHeader = \"Tournament in progress!\";\r\n        } else {\r\n          textHeader = \"Tournament starting soon!\";\r\n          showCountdown = true;\r\n        }\r\n      }\r\n\r\n      const directionsLink = getDirectionsLink(scheduleItem.location);\r\n\r\n      return (\r\n        <div style={{ paddingBottom: \"1rem\" }}>\r\n          <Segment compact>\r\n            <h3 style={{ marginBottom: \"unset\" }}>{textHeader}</h3>\r\n            <div style={{ fontStyle: \"italic\", marginBottom: \"1rem\" }}>\r\n              Wednesday Night Strikes\r\n            </div>\r\n            <b>Date: </b> {moment(scheduleItem.date).format(\"dddd, M/D/YYYY\")}\r\n            <br />\r\n            <b>Location: </b> {scheduleItem.location}\r\n            <br />\r\n            <b>Start time:</b> 7pm\r\n            <br />\r\n            <span\r\n              style={{\r\n                display: \"flex\",\r\n              }}\r\n            >\r\n              <b>Format:</b>&nbsp;{`${scheduleItem.format}`}\r\n              <InfoModal\r\n                header={scheduleItem.format}\r\n                content={getFormatInfo(scheduleItem.format)}\r\n                iconSize=\"large\"\r\n              />\r\n            </span>\r\n            <br />\r\n            {showCountdown ? (\r\n              <Countdown\r\n                date={startDateTime.toDate()}\r\n                renderer={countdownRenderer}\r\n              />\r\n            ) : null}\r\n            <MatchplayButton link={scheduleItem.matchplay_link} primary />\r\n            <DirectionsButton link={directionsLink} primary />\r\n          </Segment>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  return <></>;\r\n}\r\n\r\nexport default QuickTournamentInfo;\r\n","import { PropsWithChildren } from \"react\";\r\nimport { Grid } from \"semantic-ui-react\";\r\nimport { useWindowSize } from \"../hooks/useWindowSize\";\r\n\r\nfunction ContentContainer({ children }: PropsWithChildren<{}>) {\r\n  const size = useWindowSize();\r\n  let style = {};\r\n  if (size.width && size.width > 640) {\r\n    style = {\r\n      marginLeft: \"210px\",\r\n      padding: \"1.5rem\",\r\n    };\r\n  } else {\r\n    style = {\r\n      marginTop: \"76px\",\r\n      padding: \"1.5rem\",\r\n    };\r\n  }\r\n\r\n  return (\r\n    <div style={style}>\r\n      <Grid>\r\n        <Grid.Column mobile={16} tablet={16} computer={16}>\r\n          {children}\r\n        </Grid.Column>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { ContentContainer };\r\nexport default ContentContainer;\r\n","import { Link } from \"react-router-dom\";\r\nimport QuickTournamentInfo from \"../components/QuickTournamentInfo\";\r\nimport ContentContainer from \"../components/ContentContainer\";\r\n\r\nfunction Home() {\r\n  return (\r\n    <ContentContainer>\r\n      <h3>Superflip Pinball League (SPL)</h3>\r\n      <i>Service Industry Night (Mondays) @ Pins Mechanical Co. Pittsburgh</i>\r\n      <br />\r\n      <i>Inaugural season starts Monday, April 3rd at 7:00pm!</i>\r\n      <ul>\r\n        <li>\r\n          <Link to=\"/spl/overview\">{\"Go to Overview\"}</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/spl/schedule\">{\"Go to Current Schedule\"}</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/spl/more-details\">{\"Go to More Details\"}</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/spl/standings\">{\"Go to Standings\"}</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/spl/matchplay-links\">{\"Go to Matchplay Links\"}</Link>\r\n        </li>\r\n      </ul>\r\n      <div style={{ marginBottom: \"4rem\" }} />\r\n      <QuickTournamentInfo />\r\n      <h3>Wednesday Night Strikes</h3>\r\n      <ul>\r\n        <li>\r\n          <Link to=\"/schedule\">{\"Go to Schedule\"}</Link>\r\n        </li>\r\n        {/* <li>\r\n          <Link to=\"/locations\">{\"Go to Location Info\"}</Link>\r\n        </li> */}\r\n        <li>\r\n          <Link to=\"/rules\">{\"Go to Format & Rules\"}</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/stats\">{\"Go to Machine Stats\"}</Link>\r\n        </li>\r\n      </ul>\r\n      <h3>Pittsburgh Pinball League</h3>\r\n      <ul>\r\n        <li>\r\n          <Link to=\"/ppl\">{\"Go to Combined PPL Results\"}</Link>\r\n        </li>\r\n      </ul>\r\n    </ContentContainer>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import _ from \"lodash\";\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Dropdown,\r\n  DropdownItemProps,\r\n  Icon,\r\n  Label,\r\n} from \"semantic-ui-react\";\r\n\r\nexport interface FilterItem {\r\n  category: string;\r\n  text?: string;\r\n}\r\n\r\ninterface TableFilterProps {\r\n  locations: Set<string>;\r\n  setFilters: (filters: FilterItem[]) => void;\r\n}\r\n\r\nexport const TableFilter = ({\r\n  locations,\r\n  setFilters: setFiltersFunc,\r\n}: TableFilterProps) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [filters, setFilters] = useState<FilterItem[]>([]);\r\n\r\n  useEffect(() => {\r\n    setFiltersFunc(filters);\r\n  }, [setFiltersFunc, filters]);\r\n\r\n  let locationOptions: DropdownItemProps[] = [];\r\n  locations.forEach((loc) => {\r\n    locationOptions.push({\r\n      key: loc,\r\n      text: loc,\r\n      value: loc,\r\n    });\r\n  });\r\n  locationOptions = _.sortBy(locationOptions, [\"text\"]);\r\n\r\n  const renderFilterOptions = () => {\r\n    return (\r\n      <Dropdown\r\n        placeholder=\"Location\"\r\n        multiple\r\n        selection\r\n        closeOnChange\r\n        options={locationOptions}\r\n        onChange={(e, { value }) => {\r\n          setFilters(\r\n            (value as []).map((loc: string) => {\r\n              return { category: \"location\", text: loc };\r\n            })\r\n          );\r\n        }}\r\n        value={\r\n          filters\r\n            .filter((o) => o.category === \"location\")\r\n            .map((o) => o.text) as string[]\r\n        }\r\n      />\r\n    );\r\n  };\r\n\r\n  let filtersAppliedText = `${filters.length} filters active`;\r\n  if (filters.length === 1) {\r\n    filtersAppliedText = `${filters.length} filter active`;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <Button icon size=\"tiny\" onClick={() => setOpen(!open)}>\r\n          <Icon name=\"filter\" /> Filter\r\n        </Button>\r\n        {filters.length > 0 ? (\r\n          <>\r\n            <Label circular color=\"blue\" size=\"tiny\">\r\n              {filtersAppliedText}\r\n            </Label>\r\n            <Label\r\n              circular\r\n              size=\"tiny\"\r\n              onClick={() => setFilters([])}\r\n              style={{ cursor: \"pointer\" }}\r\n            >\r\n              Clear\r\n            </Label>\r\n          </>\r\n        ) : null}\r\n      </div>\r\n      <div\r\n        style={{\r\n          marginTop: open ? \"0.5rem\" : \"auto\",\r\n          marginLeft: open ? \"2rem\" : \"auto\",\r\n          marginBottom: open ? \"0.5rem\" : \"auto\",\r\n          visibility: open ? \"visible\" : \"hidden\",\r\n          maxHeight: open ? \"100px\" : 0,\r\n          opacity: open ? 1 : 0,\r\n          transition: \"opacity 200ms, max-height 200ms\",\r\n        }}\r\n      >\r\n        {renderFilterOptions()}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import moment from \"moment\";\r\nimport { Button, Icon } from \"semantic-ui-react\";\r\n\r\nconst download = (content: BlobPart[], filename: string) => {\r\n  try {\r\n    const blob = new Blob(content, { type: \"text/csv\" });\r\n    const element = window.document.createElement(\"a\");\r\n    element.href = window.URL.createObjectURL(blob);\r\n    element.download = filename;\r\n    document.body.appendChild(element);\r\n    element.click();\r\n    document.body.removeChild(element);\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n\r\ninterface TableDataExportProps {\r\n  generateData: () => string[];\r\n  filenamePrefix: string;\r\n}\r\n\r\nexport const TableDataExport = ({\r\n  generateData,\r\n  filenamePrefix,\r\n}: TableDataExportProps) => {\r\n  return (\r\n    <Button\r\n      icon\r\n      size=\"tiny\"\r\n      onClick={() => {\r\n        const content = generateData();\r\n        download(\r\n          content,\r\n          filenamePrefix + \"_\" + moment().format(\"YYYY-MM-DD\") + \".csv\"\r\n        );\r\n      }}\r\n      style={{ marginTop: \"0.5rem\" }}\r\n    >\r\n      <Icon name=\"file excel outline\" /> Export\r\n    </Button>\r\n  );\r\n};\r\n","import moment from \"moment\";\r\nimport { useCallback, useContext, useEffect, useReducer } from \"react\";\r\nimport { Table } from \"semantic-ui-react\";\r\nimport { AppContext, AppContextType } from \"./AppContext\";\r\nimport _ from \"lodash\";\r\nimport { FilterItem, TableFilter } from \"./TableFilter\";\r\nimport { TableDataExport } from \"./TableDataExport\";\r\nimport _2022_games from \"../common/matchplay_games_1871.json\";\r\nimport _2023_games from \"../common/matchplay_games_2546.json\";\r\nimport { TournamentGames } from \"../common/@types/matchplay_next_types\";\r\n\r\ninterface MachineStatEntry {\r\n  name: string;\r\n  location: string;\r\n  playCount: number;\r\n  playerCount: number;\r\n  totalPlaytimeSeconds: number;\r\n  avgSeconds: number;\r\n  group?: \"A\" | \"B\";\r\n}\r\n\r\nconst reducer = (state: any, action: any) => {\r\n  switch (action.type) {\r\n    case \"CHANGE_SORT\":\r\n      if (state.column === action.column) {\r\n        return {\r\n          ...state,\r\n          machines: state.machines.slice().reverse(),\r\n          filteredMachines: state.filteredMachines.slice().reverse(),\r\n          direction:\r\n            state.direction === \"ascending\" ? \"descending\" : \"ascending\",\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n        column: action.column,\r\n        machines: _.sortBy(state.machines, [action.column]),\r\n        filteredMachines: _.sortBy(state.filteredMachines, [action.column]),\r\n        direction: \"ascending\",\r\n      };\r\n    case \"SET_LOCATION_MAP\":\r\n      return {\r\n        ...state,\r\n        locationMap: action.locationMap,\r\n      };\r\n    case \"SET_MACHINES\":\r\n      return {\r\n        ...state,\r\n        machines: action.machines,\r\n        filteredMachines: action.machines.filter(\r\n          (o: MachineStatEntry) =>\r\n            state.filters.length === 0 ||\r\n            state.filters.some(\r\n              (o2: FilterItem) =>\r\n                o2.category === \"location\" && o2.text === o.location\r\n            )\r\n        ),\r\n      };\r\n    case \"SET_FILTERS\":\r\n      return {\r\n        ...state,\r\n        filters: action.filters,\r\n        filteredMachines: state.machines.filter(\r\n          (o: MachineStatEntry) =>\r\n            action.filters.length === 0 ||\r\n            action.filters.some(\r\n              (o2: FilterItem) =>\r\n                o2.category === \"location\" && o2.text === o.location\r\n            )\r\n        ),\r\n      };\r\n    default:\r\n      throw new Error();\r\n  }\r\n};\r\n\r\nconst games = (_2022_games as TournamentGames[]).concat(_2023_games);\r\n\r\nfunction MachineStats() {\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    machines: [],\r\n    filteredMachines: [],\r\n    column: \"name\",\r\n    direction: \"ascending\",\r\n    locationMap: {},\r\n    filters: [],\r\n  });\r\n  const {\r\n    machines,\r\n    filteredMachines,\r\n    column,\r\n    direction,\r\n    locationMap,\r\n    filters,\r\n  } = state;\r\n\r\n  const { schedule }: AppContextType = useContext(AppContext);\r\n\r\n  useEffect(() => {\r\n    const newLocationMap = {} as any;\r\n    schedule?.forEach((entry) => {\r\n      if (entry.matchplay_tournament_id) {\r\n        newLocationMap[entry.matchplay_tournament_id] = entry.location;\r\n      }\r\n    });\r\n    dispatch({ type: \"SET_LOCATION_MAP\", locationMap: newLocationMap });\r\n  }, [schedule]);\r\n\r\n  useEffect(() => {\r\n    let machineStats: MachineStatEntry[] = [];\r\n    games.forEach((entry) => {\r\n      if (entry && entry.arena) {\r\n        const existingEntry = machineStats.find((existingEntry) => {\r\n          return (\r\n            existingEntry.name === entry.arena.name &&\r\n            existingEntry.location === locationMap[entry.tournamentId]\r\n          );\r\n        });\r\n        if (existingEntry) {\r\n          existingEntry.playCount += 1;\r\n          existingEntry.playerCount += entry.playerIds.length;\r\n          existingEntry.totalPlaytimeSeconds += entry.duration;\r\n          existingEntry.avgSeconds =\r\n            existingEntry.totalPlaytimeSeconds / existingEntry.playerCount;\r\n        } else {\r\n          const newEntry = {\r\n            name: entry.arena.name,\r\n            location: locationMap[entry.tournamentId],\r\n            playCount: 1,\r\n            playerCount: entry.playerIds.length,\r\n            totalPlaytimeSeconds: entry.duration,\r\n            avgSeconds: entry.duration / entry.playerIds.length,\r\n          };\r\n          machineStats.push(newEntry);\r\n        }\r\n      }\r\n    });\r\n    machineStats = _.sortBy(machineStats, \"name\");\r\n    dispatch({ type: \"SET_MACHINES\", machines: machineStats });\r\n  }, [locationMap]);\r\n\r\n  const locations = new Set<string>();\r\n  machines.forEach((o: MachineStatEntry) => {\r\n    locations.add(o.location);\r\n  });\r\n\r\n  const setFilters = useCallback(\r\n    (filters: FilterItem[]) => {\r\n      dispatch({ type: \"SET_FILTERS\", filters });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const generateCsvData = () => {\r\n    const headers = [\r\n      \"Machine\",\r\n      \"Location\",\r\n      \"Game Count\",\r\n      \"Player Count\",\r\n      \"Avg. Time / Player\",\r\n    ];\r\n    const content = [headers.join(\",\") + \"\\n\"];\r\n    filteredMachines.forEach((o: MachineStatEntry) => {\r\n      const avgTime = moment.duration(o.avgSeconds, \"seconds\");\r\n      const avgTimeDisplay = moment\r\n        .utc(avgTime.as(\"milliseconds\"))\r\n        .format(\"m:ss\");\r\n      const row = [\r\n        o.name,\r\n        o.location,\r\n        o.playCount,\r\n        o.playerCount,\r\n        avgTimeDisplay,\r\n      ];\r\n      content.push(row.join(\",\") + \"\\n\");\r\n    });\r\n    return content;\r\n  };\r\n\r\n  const getFilenamePrefix = () => {\r\n    let prefix = \"FlipPGHMachineStats\";\r\n    filters.forEach((item: FilterItem) => {\r\n      if (item.category === \"location\") {\r\n        prefix += \"_\" + item.text;\r\n      }\r\n    });\r\n    return prefix;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <TableFilter locations={locations} setFilters={setFilters} />\r\n      <TableDataExport\r\n        generateData={generateCsvData}\r\n        filenamePrefix={getFilenamePrefix()}\r\n      />\r\n      <div style={{ paddingTop: \"1rem\", fontStyle: \"italic\" }}>\r\n        {filteredMachines.length} of {machines.length} machines currently\r\n        visible.\r\n      </div>\r\n      <Table celled unstackable sortable>\r\n        <Table.Header>\r\n          <Table.Row>\r\n            <Table.HeaderCell\r\n              sorted={column === \"name\" ? direction : null}\r\n              onClick={() => dispatch({ type: \"CHANGE_SORT\", column: \"name\" })}\r\n            >\r\n              Machine\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell\r\n              sorted={column === \"location\" ? direction : null}\r\n              onClick={() =>\r\n                dispatch({ type: \"CHANGE_SORT\", column: \"location\" })\r\n              }\r\n            >\r\n              Location\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell\r\n              sorted={column === \"playCount\" ? direction : null}\r\n              onClick={() =>\r\n                dispatch({ type: \"CHANGE_SORT\", column: \"playCount\" })\r\n              }\r\n            >\r\n              Game Count\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell\r\n              sorted={column === \"playerCount\" ? direction : null}\r\n              onClick={() =>\r\n                dispatch({ type: \"CHANGE_SORT\", column: \"playerCount\" })\r\n              }\r\n            >\r\n              Player Count\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell\r\n              sorted={column === \"avgSeconds\" ? direction : null}\r\n              onClick={() =>\r\n                dispatch({ type: \"CHANGE_SORT\", column: \"avgSeconds\" })\r\n              }\r\n            >\r\n              Avg. Time / Player\r\n            </Table.HeaderCell>\r\n          </Table.Row>\r\n        </Table.Header>\r\n        <Table.Body>\r\n          {filteredMachines.map((o: MachineStatEntry) => {\r\n            const avgSeconds = o.totalPlaytimeSeconds / o.playerCount;\r\n            const avgTime = moment.duration(avgSeconds, \"seconds\");\r\n            return (\r\n              <Table.Row key={o.name + o.location}>\r\n                <Table.Cell>{o.name}</Table.Cell>\r\n                <Table.Cell>{o.location}</Table.Cell>\r\n                <Table.Cell>{o.playCount}</Table.Cell>\r\n                <Table.Cell>{o.playerCount}</Table.Cell>\r\n                <Table.Cell>\r\n                  {moment.utc(avgTime.as(\"milliseconds\")).format(\"m:ss\")}\r\n                </Table.Cell>\r\n              </Table.Row>\r\n            );\r\n          })}\r\n        </Table.Body>\r\n      </Table>\r\n    </>\r\n  );\r\n}\r\n\r\nexport { MachineStats };\r\n","import { useState } from \"react\";\r\nimport { Accordion, AccordionTitleProps, Icon } from \"semantic-ui-react\";\r\nimport ContentContainer from \"../../components/ContentContainer\";\r\nimport { MachineStats } from \"../../components/MachineStats\";\r\n\r\nfunction Stats() {\r\n  const [activeIndex, setActiveIndex] = useState(1);\r\n\r\n  const handleClick = (\r\n    _: React.MouseEvent<HTMLDivElement, MouseEvent>,\r\n    titleProps: AccordionTitleProps\r\n  ) => {\r\n    const { index } = titleProps;\r\n    if (index !== undefined) {\r\n      const newIndex = activeIndex === +index ? -1 : +index;\r\n      setActiveIndex(newIndex);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ContentContainer>\r\n      <h1>{\"Machine Stats\"}</h1>\r\n      <Accordion styled fluid>\r\n        {/* <Accordion.Title\r\n          active={activeIndex === 0}\r\n          index={0}\r\n          onClick={handleClick}\r\n        >\r\n          <Icon name=\"dropdown\" />\r\n          Tournament Results\r\n        </Accordion.Title>\r\n        <Accordion.Content active={activeIndex === 0}>\r\n          <Grid stackable columns={2}>\r\n            <Grid.Column width={9}>\r\n              <h3>Past Champions</h3>\r\n              <ChampionTable />\r\n            </Grid.Column>\r\n            <Grid.Column width={7}>\r\n              <h3>Trophy Leaderboard</h3>\r\n              <TrophyLeaderboard />\r\n            </Grid.Column>\r\n          </Grid>\r\n        </Accordion.Content> */}\r\n        <Accordion.Title\r\n          active={activeIndex === 1}\r\n          index={1}\r\n          onClick={handleClick}\r\n        >\r\n          <Icon name=\"dropdown\" />\r\n          Machine Stats\r\n        </Accordion.Title>\r\n        <Accordion.Content active={activeIndex === 1}>\r\n          <MachineStats />\r\n        </Accordion.Content>\r\n      </Accordion>\r\n    </ContentContainer>\r\n  );\r\n}\r\n\r\nexport default Stats;\r\n","import { getFormatInfo } from \"../../common/utils\";\r\nimport ContentContainer from \"../../components/ContentContainer\";\r\n\r\nfunction Rules() {\r\n  return (\r\n    <ContentContainer>\r\n      <h1>{\"Format & Rules\"}</h1>\r\n      <ul>\r\n        <li>Tournament starts at 7pm</li>\r\n        <li>$5 entry fee</li>\r\n        <li>IFPA endorsed</li>\r\n        <li>\r\n          Tournament format varies and can be one of the following:\r\n          <ul>\r\n            <li>\r\n              3 Strike Knockout\r\n              {getFormatInfo('3 Strike Knockout')}\r\n            </li>\r\n            <li>\r\n              Fair Strike Knockout (6 strikes)\r\n              {getFormatInfo(\"Fair Strike Knockout (6 strikes)\")}\r\n            </li>\r\n            {/* <li>\r\n              Flip Frenzy (2 hours)\r\n              {getFormatInfo('Flip Frenzy (2 hours)')}\r\n            </li> */}\r\n          </ul>\r\n        </li>\r\n        <li>\r\n          For the 3 strike knockout format, number of strikes per group and size\r\n          of groups each round vary based on different factors, including total\r\n          player count, venue closing time, average machine playing time, etc.\r\n          Three or four player groups and one strike given in three-player\r\n          groups will be preferred but may be altered to head-to-head two player\r\n          group matches or two strikes given in three-player groups at the\r\n          discretion of the tournament director due to these factors.\r\n        </li>\r\n        <li>\r\n          For all strikes-based formats (3 strike knockout and fair strike\r\n          knockout), if a variety of machine eras are available, game selection\r\n          each round will alternate between groups of fast games (majority EM/SS\r\n          games) and slow games (majority DMD/LCD games)\r\n          <ul>\r\n            <li>\r\n              Note: Machines included in the tournament may be subject to\r\n              modification at the discretion of the tournament director due to\r\n              time limitations\r\n            </li>\r\n          </ul>\r\n        </li>\r\n        <li>\r\n          Plunge extra balls\r\n          <ul>\r\n            <li>\r\n              You may set up any skill shot beforehand, but can't touch the\r\n              machine after plunging\r\n            </li>\r\n          </ul>\r\n        </li>\r\n        <li>\r\n          Payouts to top 3 players (60/30/10% -- rounded to a multiple of $5),\r\n          minus any IFPA fees if not covered by other means\r\n        </li>\r\n        <li>\r\n          The{\" \"}\r\n          <a\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href=\"https://www.ifpapinball.com/rules/\"\r\n          >\r\n            PAPA/IFPA ruleset\r\n          </a>{\" \"}\r\n          will be used for any specific rulings, with the following\r\n          modifications:\r\n          <ul>\r\n            <li>\r\n              \"Good Sportsmanship\" exception: if someone shouts Ball Save to a\r\n              player who starts walking away from their machine, neither party\r\n              will be penalized for providing / receiving coaching\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n    </ContentContainer>\r\n  );\r\n}\r\n\r\nexport default Rules;\r\n","import moment from \"moment\";\r\nimport { useContext, useState } from \"react\";\r\nimport { Accordion, Icon, Table } from \"semantic-ui-react\";\r\nimport { ScheduleItem } from \"../../common/schedule_data\";\r\nimport { getDirectionsLink, getFormatInfo } from \"../../common/utils\";\r\nimport { AppContext, AppContextType } from \"../../components/AppContext\";\r\nimport ContentContainer from \"../../components/ContentContainer\";\r\nimport DirectionsButton from \"../../components/DirectionsButton\";\r\nimport { InfoModal } from \"../../components/InfoModal\";\r\nimport MatchplayButton from \"../../components/MatchplayButton\";\r\nimport { TextPlaceholder } from \"../../components/TextPlaceholder\";\r\nimport { useWindowSize } from \"../../hooks/useWindowSize\";\r\n\r\nfunction Schedule() {\r\n  const { schedule }: AppContextType = useContext(AppContext);\r\n  const [isPastDatesOpen, setPastDatesOpen] = useState<boolean>(false);\r\n\r\n  const size = useWindowSize();\r\n\r\n  if (schedule && schedule.length === 0) {\r\n    return (\r\n      <ContentContainer>\r\n        <h1>Upcoming Schedule</h1>\r\n        <TextPlaceholder />\r\n        <TextPlaceholder />\r\n      </ContentContainer>\r\n    );\r\n  }\r\n\r\n  if (schedule !== undefined) {\r\n    const futureDates: ScheduleItem[] = schedule.filter((value) => {\r\n      return moment(value.date) >= moment().startOf(\"day\");\r\n    });\r\n\r\n    const pastDates: ScheduleItem[] = schedule\r\n      .filter((value) => {\r\n        return (\r\n          moment(value.date) < moment().startOf(\"day\") &&\r\n          !value.no_tournament_scheduled\r\n        );\r\n      })\r\n      .reverse();\r\n\r\n    const renderTable = (\r\n      dates: ScheduleItem[],\r\n      includeTime: boolean = true,\r\n      includeDirectionsButton: boolean = true,\r\n      initialRows?: number\r\n    ) => {\r\n      return (\r\n        <Table basic=\"very\" celled collapsing>\r\n          {size.width && size.width > 640 ? (\r\n            <Table.Header>\r\n              <Table.Row>\r\n                <Table.HeaderCell>Date</Table.HeaderCell>\r\n                <Table.HeaderCell>Location</Table.HeaderCell>\r\n                {includeTime ? <Table.HeaderCell>Time</Table.HeaderCell> : null}\r\n                <Table.HeaderCell>Format</Table.HeaderCell>\r\n                <Table.HeaderCell></Table.HeaderCell>\r\n              </Table.Row>\r\n            </Table.Header>\r\n          ) : null}\r\n          <Table.Body>\r\n            {dates.map((o) => {\r\n              const dateString = moment(o.date).format(\"ddd, M/D/YYYY\");\r\n              if (o.no_tournament_scheduled) {\r\n                return (\r\n                  <Table.Row>\r\n                    <Table.Cell>{dateString}</Table.Cell>\r\n                    <Table.Cell\r\n                      colSpan=\"4\"\r\n                      style={{\r\n                        backgroundColor: \"#EAEAEA\",\r\n                        paddingRight: \"2rem\",\r\n                      }}\r\n                    >\r\n                      {o.no_tournament_msg_detail}\r\n                    </Table.Cell>\r\n                  </Table.Row>\r\n                );\r\n              }\r\n              return (\r\n                <Table.Row>\r\n                  <Table.Cell style={{ paddingLeft: \"1rem\" }}>\r\n                    {dateString}\r\n                  </Table.Cell>\r\n                  <Table.Cell>{o.location}</Table.Cell>\r\n                  {includeTime ? <Table.Cell>7pm</Table.Cell> : null}\r\n                  <Table.Cell>\r\n                    <span\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"space-between\",\r\n                      }}\r\n                    >\r\n                      {o.format}\r\n                      <InfoModal\r\n                        header={o.format}\r\n                        content={getFormatInfo(o.format)}\r\n                      />\r\n                    </span>\r\n                  </Table.Cell>\r\n                  <Table.Cell>\r\n                    {o.matchplay_link ? (\r\n                      <MatchplayButton\r\n                        link={o.matchplay_link}\r\n                        displayText=\"Matchplay\"\r\n                        compact\r\n                      />\r\n                    ) : null}\r\n                    {o.location && includeDirectionsButton ? (\r\n                      <DirectionsButton\r\n                        link={getDirectionsLink(o.location)}\r\n                        displayText=\"Directions\"\r\n                        compact\r\n                      />\r\n                    ) : null}\r\n                  </Table.Cell>\r\n                </Table.Row>\r\n              );\r\n            })}\r\n          </Table.Body>\r\n        </Table>\r\n      );\r\n    };\r\n\r\n    return (\r\n      <ContentContainer>\r\n        <h1>Upcoming Schedule</h1>\r\n        <div style={{ margin: \"3rem 0\" }}>{renderTable(futureDates)}</div>\r\n        <Accordion styled fluid>\r\n          <Accordion.Title\r\n            active={isPastDatesOpen}\r\n            index={0}\r\n            onClick={() => {\r\n              setPastDatesOpen(!isPastDatesOpen);\r\n            }}\r\n          >\r\n            <Icon name=\"dropdown\" />\r\n            <b>Past Dates</b>\r\n          </Accordion.Title>\r\n          <Accordion.Content active={isPastDatesOpen}>\r\n            {renderTable(pastDates, false, false)}\r\n          </Accordion.Content>\r\n        </Accordion>\r\n      </ContentContainer>\r\n    );\r\n  }\r\n  return <></>;\r\n}\r\n\r\nexport default Schedule;\r\n","export default __webpack_public_path__ + \"static/media/flip-pgh-com-logo-white.92d3660d.svg\";","import { useNavigate } from \"react-router-dom\";\r\nimport { Dropdown, Image, Menu } from \"semantic-ui-react\";\r\nimport logo from \"../assets/flip-pgh-com-logo-white.svg\";\r\nimport { useWindowSize } from \"../hooks/useWindowSize\";\r\n\r\nfunction MobileMenu() {\r\n  const navigate = useNavigate();\r\n  const size = useWindowSize();\r\n\r\n  const renderLogo = () => {\r\n    if (size.width && size.width > 640) {\r\n      return <Image src={logo} />;\r\n    }\r\n    return <Image src={logo} style={{ height: 60, width: 100 }} />;\r\n  };\r\n\r\n  return (\r\n    <Menu fixed=\"top\" inverted style={{ display: \"flex\" }}>\r\n      <Menu.Item\r\n        name=\"logo\"\r\n        onClick={() => {\r\n          navigate(\"/\");\r\n        }}\r\n      >\r\n        {renderLogo()}\r\n      </Menu.Item>\r\n      <Dropdown\r\n        item\r\n        text=\"Menu\"\r\n        icon=\"bars\"\r\n        style={{ marginLeft: \"auto\" }}\r\n        className=\"menu-dropdown\"\r\n      >\r\n        <Dropdown.Menu style={{ right: 0, left: \"auto\" }}>\r\n          <Dropdown.Item\r\n            onClick={() => {\r\n              navigate(\"/\");\r\n            }}\r\n          >\r\n            Home\r\n          </Dropdown.Item>\r\n          <Dropdown.Divider />\r\n          <Dropdown.Header>Superflip Pinball League</Dropdown.Header>\r\n          <Dropdown.Item\r\n            onClick={() => {\r\n              navigate(\"/spl/overview\");\r\n            }}\r\n          >\r\n            Overview\r\n          </Dropdown.Item>\r\n          <Dropdown.Item\r\n            onClick={() => {\r\n              navigate(\"/spl/more-details\");\r\n            }}\r\n          >\r\n            More Details\r\n          </Dropdown.Item>\r\n          <Dropdown.Item\r\n            onClick={() => {\r\n              navigate(\"/spl/schedule\");\r\n            }}\r\n          >\r\n            Current Schedule\r\n          </Dropdown.Item>\r\n          <Dropdown.Item\r\n            onClick={() => {\r\n              navigate(\"/spl/standings\");\r\n            }}\r\n          >\r\n            Standings\r\n          </Dropdown.Item>\r\n          <Dropdown.Item\r\n            onClick={() => {\r\n              navigate(\"/spl/matchplay-links\");\r\n            }}\r\n          >\r\n            Matchplay Links\r\n          </Dropdown.Item>\r\n          <Dropdown.Divider />\r\n          <Dropdown.Header>Wednesday Night Strikes</Dropdown.Header>\r\n          <Dropdown.Item\r\n            onClick={() => {\r\n              navigate(\"/schedule\");\r\n            }}\r\n          >\r\n            Schedule\r\n          </Dropdown.Item>\r\n          {/* <Dropdown.Item\r\n            onClick={() => {\r\n              navigate(\"/locations\");\r\n            }}\r\n          >\r\n            Location Info\r\n          </Dropdown.Item> */}\r\n          <Dropdown.Item\r\n            onClick={() => {\r\n              navigate(\"/rules\");\r\n            }}\r\n          >\r\n            Format & Rules\r\n          </Dropdown.Item>\r\n          <Dropdown.Item\r\n            onClick={() => {\r\n              navigate(\"/stats\");\r\n            }}\r\n          >\r\n            Machine Stats\r\n          </Dropdown.Item>\r\n          {/* <Dropdown.Item\r\n            onClick={() => {\r\n              navigate(\"/calendar\");\r\n            }}\r\n          >\r\n            Calendar\r\n          </Dropdown.Item> */}\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    </Menu>\r\n  );\r\n}\r\n\r\nexport default MobileMenu;\r\n","import { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { Image, Menu } from \"semantic-ui-react\";\r\nimport logo from \"../assets/flip-pgh-com-logo-white.svg\";\r\nimport { useWindowSize } from \"../hooks/useWindowSize\";\r\n\r\nfunction MenuItems() {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const size = useWindowSize();\r\n\r\n  const renderLogo = () => {\r\n    if (size.width && size.width > 640) {\r\n      return <Image src={logo} />;\r\n    }\r\n    return <Image src={logo} style={{ height: 60, width: 100 }} />;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Menu.Item\r\n        name=\"logo\"\r\n        onClick={() => {\r\n          navigate(\"/\");\r\n        }}\r\n      >\r\n        {renderLogo()}\r\n      </Menu.Item>\r\n      <Menu.Item\r\n        name=\"home\"\r\n        active={location.pathname === \"/\"}\r\n        onClick={() => {\r\n          navigate(\"/\");\r\n        }}\r\n      >\r\n        Home\r\n      </Menu.Item>\r\n      <Menu.Item>\r\n        <Menu.Header>Superflip Pinball League</Menu.Header>\r\n        <Menu.Menu>\r\n          <Menu.Item\r\n            name=\"spl-overview\"\r\n            active={location.pathname === \"/spl/overview\"}\r\n            onClick={() => {\r\n              navigate(\"/spl/overview\");\r\n            }}\r\n          >\r\n            Overview\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            name=\"spl-details\"\r\n            active={location.pathname === \"/spl/more-details\"}\r\n            onClick={() => {\r\n              navigate(\"/spl/more-details\");\r\n            }}\r\n          >\r\n            More Details\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            name=\"spl-schedule\"\r\n            active={location.pathname === \"/spl/schedule\"}\r\n            onClick={() => {\r\n              navigate(\"/spl/schedule\");\r\n            }}\r\n          >\r\n            Current Schedule\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            name=\"spl-standings\"\r\n            active={location.pathname === \"/spl/standings\"}\r\n            onClick={() => {\r\n              navigate(\"/spl/standings\");\r\n            }}\r\n          >\r\n            Standings\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            name=\"spl-matchplay-links\"\r\n            active={location.pathname === \"/spl/matchplay-links\"}\r\n            onClick={() => {\r\n              navigate(\"/spl/matchplay-links\");\r\n            }}\r\n          >\r\n            Matchplay Links\r\n          </Menu.Item>\r\n        </Menu.Menu>\r\n      </Menu.Item>\r\n      <Menu.Item>\r\n        <Menu.Header>Wednesday Night Strikes</Menu.Header>\r\n        <Menu.Menu>\r\n          <Menu.Item\r\n            name=\"schedule\"\r\n            active={location.pathname === \"/schedule\"}\r\n            onClick={() => {\r\n              navigate(\"/schedule\");\r\n            }}\r\n          >\r\n            Schedule\r\n          </Menu.Item>\r\n          {/* <Menu.Item\r\n            name=\"locations\"\r\n            active={location.pathname === \"/locations\"}\r\n            onClick={() => {\r\n              navigate(\"/locations\");\r\n            }}\r\n          >\r\n            Location Info\r\n          </Menu.Item> */}\r\n          <Menu.Item\r\n            name=\"rules\"\r\n            active={location.pathname === \"/rules\"}\r\n            onClick={() => {\r\n              navigate(\"/rules\");\r\n            }}\r\n          >\r\n            Format & Rules\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            name=\"stats\"\r\n            active={location.pathname === \"/stats\"}\r\n            onClick={() => {\r\n              navigate(\"/stats\");\r\n            }}\r\n          >\r\n            Machine Stats\r\n          </Menu.Item>\r\n        </Menu.Menu>\r\n      </Menu.Item>\r\n\r\n      {/* <Menu.Item\r\n        name=\"calendar\"\r\n        active={location.pathname === \"/calendar\"}\r\n        onClick={() => {\r\n          navigate(\"/calendar\");\r\n        }}\r\n      >\r\n        Calendar\r\n      </Menu.Item> */}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MenuItems;\r\n","import React from \"react\";\r\nimport { Menu } from \"semantic-ui-react\";\r\nimport MenuItems from \"./MenuItems\";\r\n\r\nfunction SideMenu() {\r\n  return (\r\n    <Menu inverted vertical fixed=\"left\" style={{ overflow: \"auto\" }}>\r\n      <MenuItems />\r\n    </Menu>\r\n  );\r\n}\r\n\r\nexport default SideMenu;\r\n","export const SPLPageHeader = () => {\r\n  return (\r\n    <>\r\n      <h1>Superflip Pinball League (SPL)</h1>\r\n      <p>\r\n        <i>Service Industry Night (Mondays) @ Pins Mechanical Co. Pittsburgh</i>\r\n        <br />\r\n        <i>\r\n          407 Cinema Dr, Pittsburgh, PA 15203 [\r\n          <a\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href=\"https://goo.gl/maps/4uUX9HL7DLeC1k9A9\"\r\n          >\r\n            Get Directions\r\n          </a>\r\n          ]\r\n        </i>\r\n      </p>\r\n    </>\r\n  );\r\n};\r\n","export const SPLScheduleText = () => {\r\n  return (\r\n    <>\r\n      <h3>Spring 2023 Season Schedule</h3>\r\n      <p>\r\n        <i>\r\n          <b>Qualifying: </b>Check-in starts at <b>7:00pm</b>; first round\r\n          starts at <b>7:30pm</b> sharp!\r\n        </i>\r\n        <ul>\r\n          <li>Week 1: Monday 4/3 @ Pins Mechanical Co. Pittsburgh</li>\r\n          <li>Week 2: Monday 4/10 @ Pins Mechanical Co. Pittsburgh</li>\r\n          <li>Week 3: Monday 4/17 @ Pins Mechanical Co. Pittsburgh</li>\r\n          <li>Week 4: Monday 4/24 @ Pins Mechanical Co. Pittsburgh</li>\r\n          <li>Week 5: Monday 5/1 @ Pins Mechanical Co. Pittsburgh</li>\r\n          <li>Week 6: Monday 5/8 @ Pins Mechanical Co. Pittsburgh</li>\r\n        </ul>\r\n        <i>\r\n          <b>Finals: </b>Check-in starts at <b>6:00pm</b>; first round starts at{\" \"}\r\n          <b>6:30pm</b> sharp!\r\n        </i>\r\n        <ul>\r\n          <li>\r\n            Week 7 (Finals session 1): Monday 5/15 @ Pins Mechanical Co.\r\n            Pittsburgh\r\n          </li>\r\n          <li>\r\n            Week 8 (Finals session 2): Monday 5/22 @ Pins Mechanical Co.\r\n            Pittsburgh <i>*if necessary</i>\r\n          </li>\r\n        </ul>\r\n      </p>\r\n    </>\r\n  );\r\n};\r\n","import ContentContainer from \"../../components/ContentContainer\";\r\nimport { SPLPageHeader } from \"./components/SPLPageHeader\";\r\nimport { SPLScheduleText } from \"./components/SPLScheduleText\";\r\n\r\nexport const SuperflipSchedule = () => {\r\n  return (\r\n    <ContentContainer>\r\n      <SPLPageHeader />\r\n      <SPLScheduleText />\r\n    </ContentContainer>\r\n  );\r\n};\r\n","import { Link } from \"react-router-dom\";\r\nimport ContentContainer from \"../../components/ContentContainer\";\r\nimport { SPLPageHeader } from \"./components/SPLPageHeader\";\r\nimport { SPLScheduleText } from \"./components/SPLScheduleText\";\r\n\r\nexport const Overview = () => {\r\n  return (\r\n    <ContentContainer>\r\n      <SPLPageHeader />\r\n      <p>\r\n        The SPL aims to create an inclusive and fun pinball environment that:\r\n        <ul>\r\n          <li>Promotes interest in casual + competitive pinball</li>\r\n          <li>Enhances skills + rules knowledge for participants</li>\r\n          <li>\r\n            Maximizes TGP potential (WPPRs - world pinball player ranking\r\n            points) - the league is setup to support a 200% value (important for\r\n            PA State, Womens and World qualifying!)\r\n          </li>\r\n        </ul>\r\n      </p>\r\n      <h3>League Details</h3>\r\n      <p>\r\n        <ul>\r\n          <li>$20 entry fee for the season + coin drop</li>\r\n          <ul>\r\n            <li>$1 for IFPA</li>\r\n            <li>\r\n              All remaining $$$ goes towards payouts and/or trophies/plaques and\r\n              finals night snacks\r\n            </li>\r\n          </ul>\r\n          <li>8 week season</li>\r\n          <ul>\r\n            <li>6 weeks for qualifying (lowest 2 weeks scores are dropped)</li>\r\n            <li>\r\n              Finals held the following week at the conclusion of the qualifying\r\n              period (with a 2nd finals week to complete finals if necessary)\r\n            </li>\r\n          </ul>\r\n          <li>4 games each qualifying week</li>\r\n          <ul>\r\n            <li>First round: 2 games with random group pairing</li>\r\n            <li>\r\n              Second round: 2 games with tiered group pairing (based on average\r\n              score from previous weeks)\r\n            </li>\r\n          </ul>\r\n          {/* <li>Gift card raffles every week of the season!</li> */}\r\n        </ul>\r\n        <span>\r\n          See the <Link to=\"/spl/more-details\">{\"More Details\"}</Link> page for\r\n          full details of the format and rules.\r\n        </span>\r\n      </p>\r\n      <h3>How do I sign up?</h3>\r\n      <p>\r\n        Just show up to any league night! We'll help get you signed in and ready\r\n        to play in groups that evening.\r\n      </p>\r\n      <SPLScheduleText />\r\n    </ContentContainer>\r\n  );\r\n};\r\n","import ContentContainer from \"../../components/ContentContainer\";\r\nimport { SPLPageHeader } from \"./components/SPLPageHeader\";\r\n\r\nexport const MoreDetails = () => {\r\n  return (\r\n    <ContentContainer>\r\n      <SPLPageHeader />\r\n      <p>\r\n        <ul>\r\n          <li>Your League Tournament Directors (TDs):</li>\r\n          <ul>\r\n            <li>Jared Schmidt (tournament guru)</li>\r\n            <li>David DJ Riel (old-school expertise)</li>\r\n            <li>Lewis Bevans (rules master)</li>\r\n            <li>Greg Defeo (because we needed a 4th)</li>\r\n          </ul>\r\n        </ul>\r\n      </p>\r\n      <p>\r\n        <h5>QUALIFYING</h5>\r\n        <ul>\r\n          <li>\r\n            Check-in starts at <b>7:00pm</b>; first round starts at{\" \"}\r\n            <b>7:30pm</b> sharp!\r\n          </li>\r\n          <li>\r\n            <b>Late Shows:</b> Only if you call in advance. Groups will still\r\n            start at 7:30 and will plunge a ball after 1 minute of wait for your\r\n            turn. If you call and no-show you will get a zero in the group for\r\n            that week. If you show up late with no call, you will not be added\r\n            to a group.\r\n          </li>\r\n          <li>\r\n            You are assigned a division restriction (if necessary) based on TD\r\n            discretion when you sign up to play.\r\n          </li>\r\n          <li>\r\n            If you join after week 1, you will be assigned to the middle of the\r\n            standings for the tiered groupings for that week.\r\n          </li>\r\n          <li>\r\n            You will play four games each week consisting of 2 games in 2\r\n            separate rounds.\r\n          </li>\r\n          <li>\r\n            <i>\r\n              The first round will be <b>random pairings:</b>\r\n            </i>\r\n            <ul>\r\n              <li>\r\n                Game selection and opponents will be random selection, play in\r\n                the order given\r\n              </li>\r\n            </ul>\r\n          </li>\r\n          <li>\r\n            <i>\r\n              The second round will be <b>tiered pairings:</b>\r\n            </i>\r\n            <ul>\r\n              <li>\r\n                Opponent selection is based on the cumulative league standings\r\n                based on average score from weeks played not counting the\r\n                current week (E.g., groupings will be 1/2/3/4, 5/6/7/8, etc.)\r\n              </li>\r\n              <li>\r\n                Game & order choice & selection is as follows: 2,1,3,4 for game\r\n                1; 1,2,3,4 for game 2\r\n              </li>\r\n              <li>Week 1 seeding for tiered selection is based on IFPA rank</li>\r\n            </ul>\r\n          </li>\r\n          <li>\r\n            All rounds score the same: 7/5/3/1 scoring for 1st/2nd/3rd/4th\r\n            (7/4/1 scoring for three player groups)\r\n          </li>\r\n          <li>\r\n            Your lowest 2 weeks scores are dropped and your top 4 weeks scores\r\n            accumulate to your final qualifying score for finals.\r\n          </li>\r\n          <li>\r\n            Ties will be broken by your drop week (or lowest 2 weeks) scores\r\n            (highest score, then second highest score). If a tie still exists, a\r\n            1 game playoff will take place to determine seeding.\r\n          </li>\r\n        </ul>\r\n      </p>\r\n      <p>\r\n        <h5>FINALS</h5>\r\n        <ul>\r\n          <li>\r\n            Check-in starts at <b>6:00pm</b>; first round starts at{\" \"}\r\n            <b>6:30pm</b> sharp!\r\n          </li>\r\n          <li>\r\n            Finals participants are based on their division restrictions (this\r\n            is denoted when you join league) - if you do not qualify for your\r\n            division restriction (or higher) you will be placed in the X\r\n            division.\r\n          </li>\r\n          <li>\r\n            Groupings are based on multiples of 16 (this assumes at least 32\r\n            players; this will be modified to reduce the field for A division by\r\n            50% if less than 32).\r\n          </li>\r\n          <li>\r\n            Anyone qualifying outside of the multiple of 16 will be placed in\r\n            the X division\r\n            <ul>\r\n              <li>\r\n                E.g., with 38 players, top 16 players make A division, the next\r\n                16 players make B division, the last 6 make X division. With 52\r\n                players, top 16 A, next 16 B, next 16 C, last 4 X (and so\r\n                forth).\r\n              </li>\r\n            </ul>\r\n          </li>\r\n          <li>\r\n            All players participate in finals, prizes for top 4 in all divisions\r\n            (prize breakdown TBD)\r\n          </li>\r\n          <li>\r\n            Finals format: PAPA style matchplay (3 games each round, 4/2/1/0\r\n            scoring)\r\n          </li>\r\n          <li>Max one group can wait for game in finals</li>\r\n          <li>Extra balls should be plunged</li>\r\n        </ul>\r\n      </p>\r\n      <p>\r\n        <h5>OTHER INFO</h5>\r\n        <ul>\r\n          <li>\r\n            Gameplay on any game is permitted between rounds, but not during a\r\n            match.\r\n          </li>\r\n          <li>\r\n            Ensure that you have started the appropriate # of players. Any game\r\n            not started with the correct # will be void and restarted.\r\n          </li>\r\n        </ul>\r\n      </p>\r\n      <p>\r\n        <h5>RULINGS</h5>\r\n        <ul>\r\n          <li>\r\n            We follow the PAPA/IFPA standards regarding all rulings. These can\r\n            be viewed at{\" \"}\r\n            <a\r\n              href=\"https://www.ifpapinball.com/rules/\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              https://www.ifpapinball.com/rules/\r\n            </a>\r\n          </li>\r\n          <li>\r\n            Out of turn play disqualifies the player for that game. Score for\r\n            the person affected will a) be reduced back to the original score if\r\n            it can be proven, or b) be retained as it stands. In either case,\r\n            the player will receive a compensation ball at the end of the game\r\n            with this score added to the original score.\r\n          </li>\r\n          <li>\r\n            Extra balls must be plunged and not played. Played EBs are\r\n            considered out of turn and the players score will be disqualified.\r\n          </li>\r\n          <li>\r\n            Must trap ball(s) & call a TD for any stuck ball situation (single\r\n            or multiball play), or for any issues during gameplay.\r\n          </li>\r\n          <li>\r\n            Player conduct is determined by the TDs. A DQ of the player on that\r\n            game will take place for most infractions (interference, slam tilts\r\n            (machine abuse), bangback/deathsaves, cheating, dissapearing during\r\n            a match, etc.) but a yellow card can also be issued for conduct\r\n            deemed detrimental to the league (including repeated offenses\r\n            requiring a DQ). A red card will be issued for the second infraction\r\n            disqualying the player for the season. TDs will review at the end of\r\n            the season for future seasons should the player want to rejoin the\r\n            league.\r\n          </li>\r\n          <li>\r\n            Scoring is the responsibility of the groups. Once scores are\r\n            submitted they are considered final.\r\n          </li>\r\n        </ul>\r\n      </p>\r\n      <p>\r\n        <h5>PRIZE POOL (Season 1: Spring 2023)</h5>\r\n        (-$1 IFPA fee, trophies and any other admin costs{\" \"}\r\n        <i>\r\n          *no part of league dues go to TDs, all funds go back into the league\r\n        </i>\r\n        )\r\n        <ul>\r\n          <li>\r\n            A DIVISION (60%)\r\n            <ul>\r\n              <li>1st (50%)</li>\r\n              <li>2nd (25%)</li>\r\n              <li>3rd (15%)</li>\r\n              <li>4th (10%)</li>\r\n            </ul>\r\n          </li>\r\n          <li>\r\n            B DIVISION (40%)\r\n            <ul>\r\n              <li>1st (50%)</li>\r\n              <li>2nd (25%)</li>\r\n              <li>3rd (15%)</li>\r\n              <li>4th (10%)</li>\r\n            </ul>\r\n          </li>\r\n        </ul>\r\n      </p>\r\n      <p>\r\n        <h5>FINAL STANDINGS</h5>\r\n        <ul>\r\n          <li>\r\n            Submissions to IFPA for WPPR will be the top 16 finishers in the A\r\n            division finals, followed by the final qualifying standings for\r\n            non-A division participants.\r\n          </li>\r\n        </ul>\r\n      </p>\r\n    </ContentContainer>\r\n  );\r\n};\r\n","export const getTournamentIdTuples = (ids: number[]): [number, number][] => {\r\n  const tournament_ids: [number, number][] = [];\r\n  let i = 0;\r\n  while (i < ids.length) {\r\n    tournament_ids.push([ids[i], ids[i + 1]]);\r\n    i = i + 2;\r\n  }\r\n  return tournament_ids;\r\n};\r\n","import _ from \"lodash\";\r\nimport { useEffect, useReducer } from \"react\";\r\nimport { Table } from \"semantic-ui-react\";\r\n\r\nimport data from \"../../../common/data/spl/spl_series_data_2626.json\";\r\nimport { getTournamentIdTuples } from \"../utils\";\r\n\r\ninterface SPLStandingsRow {\r\n  player: string;\r\n  totalPoints: number;\r\n  adjustedPoints?: number;\r\n  averagePoints?: number;\r\n  maxWeekScore?: number;\r\n  secondMaxWeekScore?: number;\r\n  week_1?: number;\r\n  week_2?: number;\r\n  week_3?: number;\r\n  week_4?: number;\r\n  week_5?: number;\r\n  week_6?: number;\r\n}\r\n\r\nconst adjustedPointsSort = (\r\n  standings: SPLStandingsRow[]\r\n): SPLStandingsRow[] => {\r\n  return _.orderBy(\r\n    standings,\r\n    [\"adjustedPoints\", \"averagePoints\", \"maxWeekScore\", \"secondMaxWeekScore\"],\r\n    [\"desc\", \"desc\", \"desc\", \"desc\"]\r\n  );\r\n};\r\n\r\nconst averagePointsSort = (standings: SPLStandingsRow[]): SPLStandingsRow[] => {\r\n  return _.orderBy(\r\n    standings,\r\n    [\"averagePoints\", \"maxWeekScore\", \"secondMaxWeekScore\"],\r\n    [\"desc\", \"desc\", \"desc\"]\r\n  );\r\n};\r\n\r\nconst reducer = (state: IState, action: any): IState => {\r\n  switch (action.type) {\r\n    case \"CHANGE_SORT\":\r\n      if (state.column === action.column) {\r\n        return {\r\n          ...state,\r\n          standings: state.standings.slice().reverse(),\r\n          direction: action.direction\r\n            ? action.direction\r\n            : state.direction === \"ascending\"\r\n            ? \"descending\"\r\n            : \"ascending\",\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n        column: action.column,\r\n        standings:\r\n          action.column === \"adjustedPoints\"\r\n            ? adjustedPointsSort(state.standings).reverse()\r\n            : action.column === \"averagePoints\"\r\n            ? averagePointsSort(state.standings).reverse()\r\n            : (_.sortBy(state.standings, [action.column]) as SPLStandingsRow[]),\r\n        direction: action.direction ? action.direction : \"ascending\",\r\n      };\r\n    case \"SET_TABLE_DATA\":\r\n      return {\r\n        ...state,\r\n        standings: action.data,\r\n      };\r\n    default:\r\n      throw new Error();\r\n  }\r\n};\r\n\r\ninterface SPLStandingsTableProps {\r\n  seasonId?: number;\r\n}\r\n\r\ninterface IState {\r\n  standings: SPLStandingsRow[];\r\n  column: string;\r\n  direction?: \"ascending\" | \"descending\";\r\n}\r\n\r\nconst average = (array: number[]) =>\r\n  array.reduce((a, b) => a + b) / array.length;\r\n\r\ninterface MatchplayStandingsItem {\r\n  playerId: number;\r\n  position: number;\r\n  points: number;\r\n  pointsAdjusted: never[];\r\n}\r\n\r\ninterface MatchplayPlayerItem {\r\n  playerId: number;\r\n  name: string;\r\n  ifpaId: number | null;\r\n  status: string;\r\n  organizerId: number;\r\n  claimedBy: number | null;\r\n}\r\n\r\nconst createData = () => {\r\n  console.log(data);\r\n\r\n  const newData: SPLStandingsRow[] = [];\r\n\r\n  const tournament_ids = getTournamentIdTuples(data.data.tournamentIds);\r\n\r\n  data.data.players.forEach((player: MatchplayPlayerItem) => {\r\n    const totalPoints = (\r\n      data.data.standings.find(\r\n        (o: MatchplayStandingsItem) => o.playerId === player.playerId\r\n      ) as unknown as MatchplayStandingsItem\r\n    )?.points;\r\n\r\n    const weekScoreMap: any = {};\r\n    tournament_ids.forEach(([id1, id2], index) => {\r\n      const firstGroupScore = (data.data.tournamentPoints as any)[id1]?.[\r\n        player.playerId\r\n      ];\r\n      const secondGroupScore = (data.data.tournamentPoints as any)[id2]?.[\r\n        player.playerId\r\n      ];\r\n      weekScoreMap[`week_${index + 1}`] =\r\n        parseInt(firstGroupScore ? firstGroupScore : 0) +\r\n        parseInt(secondGroupScore ? secondGroupScore : 0);\r\n    });\r\n\r\n    const points = (Object.values(weekScoreMap) as number[]).sort(\r\n      (a, b) => b - a\r\n    );\r\n\r\n    const weeksPlayed = Math.ceil(\r\n      Object.keys(data.data.tournamentPoints).length / 2\r\n    );\r\n\r\n    const adjustedPoints =\r\n      weeksPlayed >= 3\r\n        ? points.slice(0, weeksPlayed - 2).reduce((acc, i) => acc + i, 0)\r\n        : undefined;\r\n\r\n    if (totalPoints) {\r\n      newData.push({\r\n        player: player.name,\r\n        totalPoints: totalPoints,\r\n        ...weekScoreMap,\r\n        averagePoints: average(\r\n          (Object.values(weekScoreMap) as any[]).filter((value) => value > 0)\r\n        ),\r\n        adjustedPoints,\r\n      });\r\n    }\r\n  });\r\n  return newData;\r\n};\r\n\r\nconst computedData = createData();\r\n\r\nexport const SPLStandingsTable = ({ seasonId }: SPLStandingsTableProps) => {\r\n  const [state, dispatch] = useReducer<(state: IState, action: any) => IState>(\r\n    reducer,\r\n    {\r\n      standings: [],\r\n      column: \"adjustedPoints\",\r\n      direction: \"descending\",\r\n    }\r\n  );\r\n\r\n  const { standings, column, direction } = state;\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      type: \"SET_TABLE_DATA\",\r\n      data: adjustedPointsSort(computedData),\r\n    });\r\n  }, [computedData]);\r\n\r\n  console.log(standings);\r\n\r\n  return (\r\n    <Table celled unstackable sortable>\r\n      <Table.Header>\r\n        <Table.HeaderCell\r\n          sorted={column === \"player\" ? direction : undefined}\r\n          onClick={() => dispatch({ type: \"CHANGE_SORT\", column: \"player\" })}\r\n        >\r\n          Player\r\n        </Table.HeaderCell>\r\n        <Table.HeaderCell\r\n          sorted={column === \"totalPoints\" ? direction : undefined}\r\n          onClick={() =>\r\n            dispatch({ type: \"CHANGE_SORT\", column: \"totalPoints\" })\r\n          }\r\n        >\r\n          Total Points\r\n        </Table.HeaderCell>\r\n        <Table.HeaderCell\r\n          sorted={column === \"adjustedPoints\" ? direction : undefined}\r\n          onClick={() =>\r\n            dispatch({ type: \"CHANGE_SORT\", column: \"adjustedPoints\" })\r\n          }\r\n        >\r\n          Adjusted Points\r\n        </Table.HeaderCell>\r\n        <Table.HeaderCell\r\n          sorted={column === \"averagePoints\" ? direction : undefined}\r\n          onClick={() =>\r\n            dispatch({ type: \"CHANGE_SORT\", column: \"averagePoints\" })\r\n          }\r\n        >\r\n          Average Points\r\n        </Table.HeaderCell>\r\n        {Array.from(Array(6).keys()).map((weekNumber) => {\r\n          return (\r\n            <Table.HeaderCell\r\n              sorted={\r\n                column === `week_${weekNumber + 1}` ? direction : undefined\r\n              }\r\n              onClick={() =>\r\n                dispatch({\r\n                  type: \"CHANGE_SORT\",\r\n                  column: `week_${weekNumber + 1}`,\r\n                })\r\n              }\r\n            >\r\n              Week {weekNumber + 1}\r\n            </Table.HeaderCell>\r\n          );\r\n        })}\r\n      </Table.Header>\r\n      <Table.Body>\r\n        {standings.map((o: SPLStandingsRow) => {\r\n          return (\r\n            <Table.Row>\r\n              <Table.Cell>{o.player}</Table.Cell>\r\n              <Table.Cell>{o.totalPoints}</Table.Cell>\r\n              <Table.Cell>\r\n                {o.adjustedPoints ? o.adjustedPoints : \"-\"}\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                {o.averagePoints ? o.averagePoints.toFixed(2) : \"-\"}\r\n              </Table.Cell>\r\n              <Table.Cell>{o.week_1 ? o.week_1 : \"-\"}</Table.Cell>\r\n              <Table.Cell>{o.week_2 ? o.week_2 : \"-\"}</Table.Cell>\r\n              <Table.Cell>{o.week_3 ? o.week_3 : \"-\"}</Table.Cell>\r\n              <Table.Cell>{o.week_4 ? o.week_4 : \"-\"}</Table.Cell>\r\n              <Table.Cell>{o.week_5 ? o.week_5 : \"-\"}</Table.Cell>\r\n              <Table.Cell>{o.week_6 ? o.week_6 : \"-\"}</Table.Cell>\r\n            </Table.Row>\r\n          );\r\n        })}\r\n      </Table.Body>\r\n    </Table>\r\n  );\r\n};\r\n","import { useState } from \"react\";\r\nimport ContentContainer from \"../../components/ContentContainer\";\r\nimport { SPLPageHeader } from \"./components/SPLPageHeader\";\r\n// import { SPLSeasonSelect } from \"./components/SPLSeasonSelect\";\r\nimport { SPLStandingsTable } from \"./components/SPLStandingsTable\";\r\n\r\nexport const SuperlipStandings = () => {\r\n  // const [seasonId, setSeasonId] = useState();\r\n\r\n  return (\r\n    <ContentContainer>\r\n      <SPLPageHeader />\r\n      {/* <SPLSeasonSelect /> */}\r\n      <h3>Current Standings (Spring 2023 Season)</h3>\r\n      <SPLStandingsTable />\r\n    </ContentContainer>\r\n  );\r\n};\r\n","import MatchplayButton from \"../../../components/MatchplayButton\";\r\n\r\ninterface SPLMatchplayLinksProps {\r\n  title?: string;\r\n  randomGroupsLink: string;\r\n  tieredGroupsLink: string;\r\n}\r\n\r\nexport const SPLMatchplayLinks = ({\r\n  title,\r\n  randomGroupsLink,\r\n  tieredGroupsLink,\r\n}: SPLMatchplayLinksProps) => {\r\n  return (\r\n    <>\r\n      {title ? (\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            marginBottom: \"1rem\",\r\n            fontWeight: \"bold\",\r\n          }}\r\n        >\r\n          {title}\r\n        </div>\r\n      ) : null}\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-around\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        Random Groups:\r\n        <MatchplayButton link={randomGroupsLink} primary compact />\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-around\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        Tiered Groups:\r\n        <MatchplayButton link={tieredGroupsLink} primary compact />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import { Grid } from \"semantic-ui-react\";\r\nimport ContentContainer from \"../../components/ContentContainer\";\r\nimport { SPLMatchplayLinks } from \"./components/SPLMatchplayLinks\";\r\nimport { SPLPageHeader } from \"./components/SPLPageHeader\";\r\n\r\nimport data from \"../../common/data/spl/spl_series_data_2626.json\";\r\nimport { getTournamentIdTuples } from \"./utils\";\r\n\r\nconst tournament_ids = getTournamentIdTuples(data.data.tournamentIds);\r\n\r\nconst weektoDateMap: any = {\r\n  1: \"Monday 4/3\",\r\n  2: \"Monday 4/10\",\r\n  3: \"Monday 4/17\",\r\n  4: \"Monday 4/24\",\r\n  5: \"Monday 5/1\",\r\n  6: \"Monday 5/8\",\r\n};\r\n\r\nexport const SuperflipMatchplayLinksView = () => {\r\n  return (\r\n    <ContentContainer>\r\n      <SPLPageHeader />\r\n      <h3>Matchplay Links (Spring 2023 Season)</h3>\r\n      <Grid stackable columns={3}>\r\n        {tournament_ids.map((idTuple, index) => {\r\n          return (\r\n            <Grid.Column>\r\n              <SPLMatchplayLinks\r\n                title={`Week ${index + 1} (${\r\n                  weektoDateMap[(index + 1) as any]\r\n                })`}\r\n                randomGroupsLink={`https://next.matchplay.events/tournaments/${idTuple[0]}/matches`}\r\n                tieredGroupsLink={`https://next.matchplay.events/tournaments/${idTuple[1]}/matches`}\r\n              />\r\n            </Grid.Column>\r\n          );\r\n        })}\r\n      </Grid>\r\n    </ContentContainer>\r\n  );\r\n};\r\n","import { Route, Routes } from \"react-router-dom\";\r\nimport { useWindowSize } from \"./hooks/useWindowSize\";\r\nimport Home from \"./pages/Home\";\r\nimport LocationInfo from \"./pages/wednesdays/LocationInfo\";\r\nimport Stats from \"./pages/wednesdays/Stats\";\r\nimport Rules from \"./pages/wednesdays/Rules\";\r\nimport Schedule from \"./pages/wednesdays/Schedule\";\r\nimport { AppProvider } from \"./components/AppContext\";\r\nimport MobileMenu from \"./components/MobileMenu\";\r\nimport SideMenu from \"./components/SideMenu\";\r\nimport { SuperflipSchedule } from \"./pages/superflip/SuperflipSchedule\";\r\nimport { Overview } from \"./pages/superflip/Overview\";\r\nimport { MoreDetails } from \"./pages/superflip/MoreDetails\";\r\nimport { SuperlipStandings } from \"./pages/superflip/SuperflipStandings\";\r\nimport { SuperflipMatchplayLinksView } from \"./pages/superflip/SuperflipMatchplayLinksView\";\r\n\r\nfunction FlipPghApp() {\r\n  const size = useWindowSize();\r\n\r\n  const renderMenu = () => {\r\n    if (size.width && size.width > 640) {\r\n      return <SideMenu />;\r\n    }\r\n    return <MobileMenu />;\r\n  };\r\n\r\n  return (\r\n    <AppProvider>\r\n      {renderMenu()}\r\n      <Routes>\r\n        <Route path=\"/\" element={<Home />} />\r\n        <Route path=\"/spl/overview\" element={<Overview />} />\r\n        <Route path=\"/spl/more-details\" element={<MoreDetails />} />\r\n        <Route path=\"/spl/schedule\" element={<SuperflipSchedule />} />\r\n        <Route path=\"/spl/standings\" element={<SuperlipStandings />} />\r\n        <Route path=\"/spl/matchplay-links\" element={<SuperflipMatchplayLinksView />} />\r\n        <Route path=\"/schedule\" element={<Schedule />} />\r\n        {/* <Route path=\"/locations\" element={<LocationInfo />} /> */}\r\n        <Route path=\"/rules\" element={<Rules />} />\r\n        <Route path=\"/stats\" element={<Stats />} />\r\n        {/* <Route path=\"/calendar\" element={<CalendarView />} /> */}\r\n      </Routes>\r\n    </AppProvider>\r\n  );\r\n}\r\n\r\nexport default FlipPghApp;\r\n","import { Table } from \"semantic-ui-react\";\r\n\r\nexport interface PointsByWeek {\r\n  week_1?: number;\r\n  week_2?: number;\r\n  week_3?: number;\r\n  week_4?: number;\r\n  week_5?: number;\r\n  week_6?: number;\r\n  week_7?: number;\r\n  week_8?: number;\r\n  week_9?: number;\r\n}\r\n\r\nexport interface DaysPlayed {\r\n  week_1?: string;\r\n  week_2?: string;\r\n  week_3?: string;\r\n  week_4?: string;\r\n  week_5?: string;\r\n  week_6?: string;\r\n  week_7?: string;\r\n  week_8?: string;\r\n  week_9?: string;\r\n}\r\n\r\nexport interface StandingsEntry {\r\n  player: string;\r\n  totalPoints: number;\r\n  averagePoints: number;\r\n  maxWeekScore: number;\r\n  secondMaxWeekScore: number;\r\n  adjustedPoints?: number;\r\n  pointsByWeek?: PointsByWeek;\r\n  daysPlayed?: DaysPlayed;\r\n}\r\n\r\ninterface StandingsTableProps {\r\n  data: StandingsEntry[];\r\n  division: string;\r\n}\r\n\r\nexport const StandingsTable = ({ data, division }: StandingsTableProps) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <h3>{`${division} Division`}</h3>\r\n      <Table celled unstackable>\r\n        <Table.Header>\r\n          <Table.Row>\r\n            <Table.HeaderCell style={{ backgroundColor: \"#f2f2f2\" }}>\r\n              Player\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell style={{ backgroundColor: \"#f2f2f2\" }}>\r\n              Total Points\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell style={{ backgroundColor: \"#f2f2f2\" }}>\r\n              Adjusted Points\r\n            </Table.HeaderCell>\r\n          </Table.Row>\r\n        </Table.Header>\r\n        <Table.Body>\r\n          {data.map((o) => {\r\n            return (\r\n              <Table.Row key={o.player}>\r\n                <Table.Cell>{o.player}</Table.Cell>\r\n                <Table.Cell>{o.totalPoints}</Table.Cell>\r\n                <Table.Cell>\r\n                  {o.adjustedPoints ? o.adjustedPoints : \"-\"}\r\n                </Table.Cell>\r\n              </Table.Row>\r\n            );\r\n          })}\r\n        </Table.Body>\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\n","import { Grid } from \"semantic-ui-react\";\r\nimport { StandingsTable } from \"../../../components/ppl/StandingsTable\";\r\n\r\ninterface OverallStandingsProps {\r\n  data: any;\r\n  season: string;\r\n}\r\n\r\nexport const OverallStandings = ({ data, season }: OverallStandingsProps) => {\r\n  return (\r\n    <Grid\r\n      stackable\r\n      centered\r\n      style={{\r\n        padding: \"0 16px\",\r\n        marginTop: \"8px\",\r\n      }}\r\n    >\r\n      <Grid.Column mobile={16} tablet={8} computer={5}>\r\n        <StandingsTable\r\n          data={data[season].standings.slice(0, 32)}\r\n          division=\"A\"\r\n        />\r\n      </Grid.Column>\r\n      <Grid.Column mobile={16} tablet={8} computer={5}>\r\n        <StandingsTable\r\n          data={data[season].standings.slice(32, 64)}\r\n          division=\"B\"\r\n        />\r\n      </Grid.Column>\r\n      <Grid.Column mobile={16} tablet={8} computer={5}>\r\n        <StandingsTable\r\n          data={data[season].standings.slice(64, 96)}\r\n          division=\"C\"\r\n        />\r\n      </Grid.Column>\r\n      <Grid.Column mobile={16} tablet={8} computer={5}>\r\n        <StandingsTable data={data[season].standings.slice(96)} division=\"X\" />\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n};\r\n","import moment from \"moment-timezone\";\r\nimport { useMemo } from \"react\";\r\nimport { WeeksPlayedData } from \"./@types\";\r\nimport updates from \"../../common/data/ppl/updates.json\";\r\n\r\nconst renderMetadata = (weeksPlayed: WeeksPlayedData, update: any) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        marginBottom: \"16px\",\r\n        marginTop: \"16px\",\r\n      }}\r\n    >\r\n      <div>\r\n        <b>Updated:</b>{\" \"}\r\n        {moment\r\n          .utc(update.date_iso_utc)\r\n          .tz(moment.tz.guess())\r\n          .format(\"ddd, MMM D YYYY, h:mm a\")}\r\n      </div>\r\n      <div>\r\n        <b>Thursday:</b> Through Week {weeksPlayed.thursday}\r\n      </div>\r\n      <div>\r\n        <b>Friday:</b> Through Week {weeksPlayed.friday}\r\n      </div>\r\n      <div>\r\n        <b>Sunday:</b> Through Week {weeksPlayed.sunday}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface UpdateMetadataProps {\r\n  data: any;\r\n  season: string;\r\n}\r\n\r\nexport const UpdateMetadata = ({ data, season }: UpdateMetadataProps) => {\r\n  const update = useMemo(() => {\r\n    return updates.find((update) => {\r\n      return data[season].seasonIds.every((i: string) => {\r\n        return update.included_season_ids.includes(i);\r\n      });\r\n    });\r\n  }, [season, data]);\r\n  \r\n  return renderMetadata(data[season].weeksPlayed, update);\r\n};\r\n","import _ from \"lodash\";\r\nimport dates from \"../../../common/data/ppl/dates.json\";\r\nimport { StandingsEntry } from \"../../../components/ppl/StandingsTable\";\r\nimport { WeeksPlayedData } from \"../@types\";\r\n\r\nexport const getWeeksPlayed = (id: any) => {\r\n  return Math.max(\r\n    ...dates.filter((o) => o.season_id === id).map((o) => o.week_id)\r\n  );\r\n};\r\n\r\ninterface RawStandings {\r\n  thursday: any[];\r\n  friday: any[];\r\n  sunday: any[];\r\n}\r\n\r\nexport const getCombinedStandings = (\r\n  weeksPlayed: WeeksPlayedData,\r\n  rawStandings: RawStandings\r\n): StandingsEntry[] => {\r\n  const dayMap: any = {};\r\n  Object.keys(rawStandings).forEach((day) => {\r\n    const x = rawStandings[day as keyof RawStandings];\r\n    if (x.length > 0) {\r\n      dayMap[x[0]._id.season_id] = day;\r\n    }\r\n  });\r\n\r\n  const minWeeksPlayed = Math.min(...Object.values(weeksPlayed));\r\n  const maxWeeksPlayed = Math.max(...Object.values(weeksPlayed));\r\n\r\n  let standings: any[] = [];\r\n  Object.keys(rawStandings).forEach((key) => {\r\n    standings = standings.concat(rawStandings[key as keyof RawStandings]);\r\n  });\r\n  const grouped = _.groupBy(standings, (item: any) => item._id.player);\r\n  const combinedStandings: StandingsEntry[] = [];\r\n  Object.keys(grouped).forEach((player) => {\r\n    let mergedPoints = {};\r\n    let daysPlayed = {};\r\n    grouped[player].forEach((o) => {\r\n      mergedPoints = { ...mergedPoints, ...o.points };\r\n      Object.keys(o.points).forEach((week) => {\r\n        daysPlayed = { ...daysPlayed, [week]: dayMap[o._id.season_id] };\r\n      });\r\n    });\r\n    const points = (Object.values(mergedPoints) as number[]).sort(\r\n      (a, b) => b - a\r\n    );\r\n    const totalPoints = points.reduce((acc, i) => acc + i, 0);\r\n\r\n    combinedStandings.push({\r\n      player,\r\n      totalPoints,\r\n      averagePoints: totalPoints / points.length,\r\n      maxWeekScore: points[0],\r\n      secondMaxWeekScore: points.length > 1 ? points[1] : 0,\r\n      adjustedPoints:\r\n        minWeeksPlayed >= 3\r\n          ? points\r\n              .slice(\r\n                0,\r\n                maxWeeksPlayed < 9 ? maxWeeksPlayed - 2 : maxWeeksPlayed - 3\r\n              )\r\n              .reduce((acc, i) => acc + i, 0)\r\n          : undefined,\r\n      pointsByWeek: mergedPoints,\r\n      daysPlayed: daysPlayed,\r\n    });\r\n  });\r\n  if (minWeeksPlayed < 3) {\r\n    return _.orderBy(\r\n      combinedStandings,\r\n      [\"totalPoints\", \"averagePoints\", \"maxWeekScore\", \"secondMaxWeekScore\"],\r\n      [\"desc\", \"desc\", \"desc\", \"desc\"]\r\n    );\r\n  }\r\n  return _.orderBy(\r\n    combinedStandings,\r\n    [\"adjustedPoints\", \"averagePoints\", \"maxWeekScore\", \"secondMaxWeekScore\"],\r\n    [\"desc\", \"desc\", \"desc\", \"desc\"]\r\n  );\r\n};\r\n","import _ from \"lodash\";\r\nimport { useEffect, useReducer } from \"react\";\r\nimport { Table } from \"semantic-ui-react\";\r\nimport {\r\n  DaysPlayed,\r\n  PointsByWeek,\r\n  StandingsEntry,\r\n} from \"../../../components/ppl/StandingsTable\";\r\n\r\nconst getBackgroundColor = (day?: string) => {\r\n  if (!day) {\r\n    return \"#ffffff\";\r\n  }\r\n  if (day === \"thursday\") {\r\n    return \"#ffd8b1\";\r\n  }\r\n  if (day === \"friday\") {\r\n    return \"#aaffc3\";\r\n  }\r\n  if (day === \"sunday\") {\r\n    return \"#dcbeff\";\r\n  }\r\n};\r\n\r\nconst PointsByMeetLegend = () => {\r\n  return (\r\n    <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n      <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n        <span\r\n          style={{\r\n            display: \"inline-block\",\r\n            height: \"20px\",\r\n            width: \"40px\",\r\n            backgroundColor: getBackgroundColor(\"thursday\"),\r\n            border: \"1px solid rgba(34,36,38,.1)\",\r\n            marginLeft: \"16px\",\r\n          }}\r\n        />\r\n        <span style={{ marginLeft: \"8px\" }}>Thursday</span>\r\n        <span\r\n          style={{\r\n            display: \"inline-block\",\r\n            height: \"20px\",\r\n            width: \"40px\",\r\n            backgroundColor: getBackgroundColor(\"friday\"),\r\n            border: \"1px solid rgba(34,36,38,.1)\",\r\n            marginLeft: \"16px\",\r\n          }}\r\n        />\r\n        <span style={{ marginLeft: \"8px\" }}>Friday</span>\r\n        <span\r\n          style={{\r\n            display: \"inline-block\",\r\n            height: \"20px\",\r\n            width: \"40px\",\r\n            backgroundColor: getBackgroundColor(\"sunday\"),\r\n            border: \"1px solid rgba(34,36,38,.1)\",\r\n            marginLeft: \"16px\",\r\n          }}\r\n        />\r\n        <span style={{ marginLeft: \"8px\" }}>Sunday</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst adjustedPointsSort = (standings: StandingsEntry[]): StandingsEntry[] => {\r\n  return _.orderBy(\r\n    standings,\r\n    [\"adjustedPoints\", \"averagePoints\", \"maxWeekScore\", \"secondMaxWeekScore\"],\r\n    [\"desc\", \"desc\", \"desc\", \"desc\"]\r\n  );\r\n};\r\n\r\nconst reducer = (state: any, action: any) => {\r\n  switch (action.type) {\r\n    case \"CHANGE_SORT\":\r\n      if (state.column === action.column) {\r\n        return {\r\n          ...state,\r\n          standings: state.standings.slice().reverse(),\r\n          direction:\r\n            state.direction === \"ascending\" ? \"descending\" : \"ascending\",\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n        column: action.column,\r\n        standings:\r\n          action.column === \"adjustedPoints\"\r\n            ? adjustedPointsSort(state.standings).reverse()\r\n            : _.sortBy(state.standings, [action.column]),\r\n        direction: \"ascending\",\r\n      };\r\n    case \"SET_TABLE_DATA\":\r\n      return {\r\n        ...state,\r\n        standings: action.data.standings,\r\n        weeksPlayed: action.data.weeksPlayed,\r\n        seasonIds: action.data.seasonIds,\r\n      };\r\n    default:\r\n      throw new Error();\r\n  }\r\n};\r\n\r\nexport const PointsByMeet = ({ data, season }: any) => {\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    standings: [],\r\n    weeksPlayed: {},\r\n    seasonIds: [],\r\n    column: \"adjustedPoints\",\r\n    direction: \"descending\",\r\n  });\r\n\r\n  const { standings, column, direction } = state;\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"SET_TABLE_DATA\", data: data[season] });\r\n    dispatch({ type: \"CHANGE_SORT\", column: \"player\" });\r\n  }, [data, season]);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"CHANGE_SORT\", column: \"adjustedPoints\" });\r\n    dispatch({ type: \"CHANGE_SORT\", column: \"player\" });\r\n  }, [season]);\r\n\r\n  const maxWeeksPlayed = Math.max(\r\n    ...(Object.values(data[season].weeksPlayed) as number[])\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <PointsByMeetLegend />\r\n      <Table celled unstackable sortable>\r\n        <Table.Header>\r\n          <Table.HeaderCell\r\n            sorted={column === \"player\" ? direction : null}\r\n            onClick={() => dispatch({ type: \"CHANGE_SORT\", column: \"player\" })}\r\n          >\r\n            Player\r\n          </Table.HeaderCell>\r\n          <Table.HeaderCell\r\n            sorted={column === \"totalPoints\" ? direction : null}\r\n            onClick={() =>\r\n              dispatch({ type: \"CHANGE_SORT\", column: \"totalPoints\" })\r\n            }\r\n          >\r\n            Total Points\r\n          </Table.HeaderCell>\r\n          <Table.HeaderCell\r\n            sorted={column === \"adjustedPoints\" ? direction : null}\r\n            onClick={() =>\r\n              dispatch({ type: \"CHANGE_SORT\", column: \"adjustedPoints\" })\r\n            }\r\n          >\r\n            Adjusted Points\r\n          </Table.HeaderCell>\r\n          {Array.from(Array(maxWeeksPlayed).keys()).map((weekNumber) => {\r\n            return (\r\n              <Table.HeaderCell\r\n                sorted={\r\n                  column === `pointsByWeek.week_${weekNumber + 1}`\r\n                    ? direction\r\n                    : null\r\n                }\r\n                onClick={() =>\r\n                  dispatch({\r\n                    type: \"CHANGE_SORT\",\r\n                    column: `pointsByWeek.week_${weekNumber + 1}`,\r\n                  })\r\n                }\r\n              >\r\n                Week {weekNumber + 1}\r\n              </Table.HeaderCell>\r\n            );\r\n          })}\r\n        </Table.Header>\r\n        <Table.Body>\r\n          {standings.map((o: StandingsEntry) => {\r\n            return (\r\n              <Table.Row>\r\n                <Table.Cell>{o.player}</Table.Cell>\r\n                <Table.Cell>{o.totalPoints}</Table.Cell>\r\n                <Table.Cell>{o.adjustedPoints}</Table.Cell>\r\n                {Array.from(Array(maxWeeksPlayed).keys()).map((weekNumber) => {\r\n                  const dayPlayed = o.daysPlayed\r\n                    ? o.daysPlayed[`week_${weekNumber + 1}` as keyof DaysPlayed]\r\n                    : undefined;\r\n                  return (\r\n                    <Table.Cell\r\n                      style={{\r\n                        backgroundColor: getBackgroundColor(dayPlayed),\r\n                      }}\r\n                    >\r\n                      {o.pointsByWeek\r\n                        ? o.pointsByWeek[\r\n                            `week_${weekNumber + 1}` as keyof PointsByWeek\r\n                          ]\r\n                        : \"\"}\r\n                    </Table.Cell>\r\n                  );\r\n                })}\r\n              </Table.Row>\r\n            );\r\n          })}\r\n        </Table.Body>\r\n      </Table>\r\n    </>\r\n  );\r\n};\r\n","import { useMemo, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Dropdown, Icon, Tab } from \"semantic-ui-react\";\r\nimport { OverallStandings } from \"./tabs/OverallStandings\";\r\nimport { UpdateMetadata } from \"./UpdateMetadata\";\r\nimport { getCombinedStandings, getWeeksPlayed } from \"./utils\";\r\n\r\nimport _39_thursday from \"../../common/data/ppl/standings_22.json\";\r\nimport _39_friday from \"../../common/data/ppl/standings_23.json\";\r\nimport _39_sunday from \"../../common/data/ppl/standings_24.json\";\r\nimport _40_thursday from \"../../common/data/ppl/standings_27.json\";\r\nimport _40_friday from \"../../common/data/ppl/standings_26.json\";\r\nimport _40_sunday from \"../../common/data/ppl/standings_25.json\";\r\nimport _41_thursday from \"../../common/data/ppl/standings_28.json\";\r\nimport _41_friday from \"../../common/data/ppl/standings_29.json\";\r\nimport _41_sunday from \"../../common/data/ppl/standings_30.json\";\r\nimport { PointsByMeet } from \"./tabs/PointsByMeet\";\r\n\r\nconst seasonOptions = [\r\n  {\r\n    key: \"41\",\r\n    text: \"Season 41 (Winter 2023)\",\r\n    value: \"41\",\r\n  },\r\n  {\r\n    key: \"40\",\r\n    text: \"Season 40 (Fall 2022)\",\r\n    value: \"40\",\r\n  },\r\n  {\r\n    key: \"39\",\r\n    text: \"Season 39 (Spring 2022)\",\r\n    value: \"39\",\r\n  },\r\n];\r\n\r\nexport const PPLTabWrapper = () => {\r\n  const data: any = useMemo(() => {\r\n    const _39_weeksPlayed = {\r\n      thursday: getWeeksPlayed(_39_thursday[0]._id.season_id),\r\n      friday: getWeeksPlayed(_39_friday[0]._id.season_id),\r\n      sunday: getWeeksPlayed(_39_sunday[0]._id.season_id),\r\n    };\r\n    const _40_weeksPlayed = {\r\n      thursday: getWeeksPlayed(_40_thursday[0]._id.season_id),\r\n      friday: getWeeksPlayed(_40_friday[0]._id.season_id),\r\n      sunday: getWeeksPlayed(_40_sunday[0]._id.season_id),\r\n    };\r\n    const _41_weeksPlayed = {\r\n      thursday: getWeeksPlayed(_41_thursday[0]._id.season_id),\r\n      friday: getWeeksPlayed(_41_friday[0]._id.season_id),\r\n      sunday: getWeeksPlayed(_41_sunday[0]._id.season_id),\r\n    };\r\n    return {\r\n      \"39\": {\r\n        standings: getCombinedStandings(_39_weeksPlayed, {\r\n          thursday: _39_thursday,\r\n          friday: _39_friday,\r\n          sunday: _39_sunday,\r\n        }),\r\n        weeksPlayed: _39_weeksPlayed,\r\n        seasonIds: [\"22\", \"23\", \"24\"],\r\n      },\r\n      \"40\": {\r\n        standings: getCombinedStandings(_40_weeksPlayed, {\r\n          thursday: _40_thursday,\r\n          friday: _40_friday,\r\n          sunday: _40_sunday,\r\n        }),\r\n        weeksPlayed: _40_weeksPlayed,\r\n        seasonIds: [\"25\", \"26\", \"27\"],\r\n      },\r\n      \"41\": {\r\n        standings: getCombinedStandings(_41_weeksPlayed, {\r\n          thursday: _41_thursday,\r\n          friday: _41_friday,\r\n          sunday: _41_sunday,\r\n        }),\r\n        weeksPlayed: _41_weeksPlayed,\r\n        seasonIds: [\"28\", \"29\", \"30\"],\r\n      },\r\n    };\r\n  }, []);\r\n\r\n  const [season, setSeason] = useState(\"41\");\r\n\r\n  const panes = [\r\n    {\r\n      menuItem: \"Overall Standings\",\r\n      render: () => (\r\n        <Tab.Pane>\r\n          <OverallStandings data={data} season={season} />\r\n        </Tab.Pane>\r\n      ),\r\n    },\r\n    {\r\n      menuItem: \"Points By Meet\",\r\n      render: () => (\r\n        <Tab.Pane>\r\n          <PointsByMeet data={data} season={season} />\r\n        </Tab.Pane>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div style={{ backgroundColor: \"#f2f2f2\" }}>\r\n      <div style={{ padding: \"8px 16px\" }}>\r\n        <Link to=\"/\">\r\n          <Icon name=\"arrow left\" />\r\n          Go to Flip PGH\r\n        </Link>\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <h1>Pittsburgh Pinball League</h1>\r\n        <Dropdown\r\n          onChange={(e, { value }) => {\r\n            setSeason(value as string);\r\n          }}\r\n          options={seasonOptions}\r\n          selection\r\n          value={season}\r\n        />\r\n        <UpdateMetadata data={data} season={season} />\r\n        <Tab panes={panes} className=\"ppl-tab\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import _ from \"lodash\";\r\nimport moment from \"moment\";\r\nimport { Input, Table } from \"semantic-ui-react\";\r\nimport playerResults from \"../common/ifpa-player-results-49067.json\";\r\nimport playerActiveTournamentResults from \"../common/ifpa-player-active-tournament-results-49067.json\";\r\nimport { useEffect, useMemo, useReducer, useState } from \"react\";\r\nimport { ordinal_suffix_of } from \"../common/utils\";\r\n\r\nconst PLAYER_ID = 49067;\r\n\r\nconst oneYearAgo = moment().subtract(1, \"year\");\r\nconst twoYearsAgo = moment().subtract(2, \"year\");\r\nconst getDecayResult = (date: string, points: number) => {\r\n  const momentDate = moment(date);\r\n  if (momentDate.isSameOrBefore(twoYearsAgo)) {\r\n    return points * 0.5;\r\n  }\r\n  if (momentDate.isSameOrBefore(oneYearAgo)) {\r\n    return points * 0.75;\r\n  }\r\n  return points;\r\n};\r\n\r\nconst getOverallEffPercent = (\r\n  tournaments: PlayerActiveTournamentEntry[]\r\n): number => {\r\n  const totalPoints = tournaments.reduce(\r\n    (total, item) => total + item.original_points,\r\n    0\r\n  );\r\n  const totalMaxValue = tournaments.reduce(\r\n    (total, item) => total + item.event_value,\r\n    0\r\n  );\r\n  // const totalPoints = tournaments.reduce(\r\n  //   (total, item) => total + item.current_points,\r\n  //   0\r\n  // );\r\n  // const totalMaxValue = tournaments.reduce(\r\n  //   (total, item) => total + item.current_value,\r\n  //   0\r\n  // );\r\n  return totalPoints / totalMaxValue;\r\n};\r\n\r\nconst getCurrentPointsTotal = (\r\n  tournaments: PlayerActiveTournamentEntry[]\r\n): number => {\r\n  return tournaments\r\n    .filter((o) => o.wppr_state === \"Active\")\r\n    .reduce((total, item) => total + item.current_points, 0);\r\n};\r\n\r\nconst getAdjustedPoints = (\r\n  currentPoints: number,\r\n  overallEffPercent: number,\r\n  targetWpprtunity: string\r\n): number | null => {\r\n  if (!isNaN(Number(targetWpprtunity))) {\r\n    const wpprtunity = currentPoints / overallEffPercent;\r\n    const excessPercent = 1 - Number(targetWpprtunity) / wpprtunity;\r\n    if (excessPercent > 0) {\r\n      const pointsTaxed = currentPoints * excessPercent;\r\n      const adjustedPoints =\r\n        currentPoints - pointsTaxed + pointsTaxed * overallEffPercent;\r\n      return adjustedPoints;\r\n    }\r\n    return currentPoints;\r\n  }\r\n  return null;\r\n};\r\n\r\nconst reducer = (state: any, action: any) => {\r\n  switch (action.type) {\r\n    case \"CHANGE_SORT\":\r\n      if (state.column === action.column) {\r\n        return {\r\n          ...state,\r\n          data: state.data.slice().reverse(),\r\n          direction:\r\n            state.direction === \"ascending\" ? \"descending\" : \"ascending\",\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n        column: action.column,\r\n        data: _.sortBy(state.data, [action.column]),\r\n        direction: \"ascending\",\r\n      };\r\n    case \"SET_TABLE_DATA\":\r\n      return {\r\n        ...state,\r\n        data: action.data,\r\n      };\r\n    default:\r\n      throw new Error();\r\n  }\r\n};\r\n\r\nconst calculateEffectivePoints = (\r\n  tournaments: PlayerActiveTournamentEntry[],\r\n  overallAdjustedPoints: number | null,\r\n  overallEffPercent: number,\r\n  targetWpprtunity: string\r\n): PlayerActiveTournamentEntry[] => {\r\n  const tourn21Points = _.orderBy(tournaments, [\"current_points\"], [\"desc\"])[20]\r\n    .current_points;\r\n  const currentPoints = getCurrentPointsTotal(tournaments);\r\n  const newTournaments = tournaments.map((o) => {\r\n    const refEffPercent = getOverallEffPercent(\r\n      tournaments.filter((o2) => o2.tournament_id !== o.tournament_id)\r\n    );\r\n    let refCurrentPoints = currentPoints;\r\n    if (o.wppr_state === \"Active\") {\r\n      refCurrentPoints = currentPoints - o.current_points + tourn21Points;\r\n    }\r\n    const newAdjustedPoints = getAdjustedPoints(\r\n      refCurrentPoints,\r\n      refEffPercent,\r\n      targetWpprtunity\r\n    );\r\n    if (newAdjustedPoints !== null && overallAdjustedPoints !== null) {\r\n      const effectivePoints = overallAdjustedPoints - newAdjustedPoints;\r\n      // if (o.wppr_state === \"Active\") {\r\n      //   console.log(\r\n      //     o.tournament_name + \" (base with/without): \",\r\n      //     currentPoints,\r\n      //     refCurrentPoints\r\n      //   );\r\n      //   console.log(\r\n      //     o.tournament_name + \" (adj with/without): \",\r\n      //     overallAdjustedPoints,\r\n      //     newAdjustedPoints\r\n      //   );\r\n      //   console.log(\r\n      //     o.tournament_name + \" (eff% with/without): \",\r\n      //     overallEffPercent,\r\n      //     refEffPercent\r\n      //   );\r\n      // }\r\n      return {\r\n        ...o,\r\n        effective_points: effectivePoints,\r\n        eff_percent_delta: overallEffPercent - refEffPercent,\r\n      };\r\n    }\r\n    return o;\r\n  });\r\n  return newTournaments;\r\n};\r\n\r\nconst processedPlayerResults: PlayerResultEntry[] = playerResults.results.map(\r\n  (o) => ({\r\n    tournament_id: Number(o.tournament_id),\r\n    position: Number(o.position),\r\n    event_name: o.event_name,\r\n  })\r\n);\r\n\r\nconst processedTournaments: PlayerActiveTournamentEntry[] = _.orderBy(\r\n  playerActiveTournamentResults.map((o) => {\r\n    const currentValue = getDecayResult(o.event_date, Number(o.event_value));\r\n    const currentPoints = getDecayResult(\r\n      o.event_date,\r\n      Number(o.original_points)\r\n    );\r\n    return {\r\n      event_date: o.event_date,\r\n      event_value: Number(o.event_value),\r\n      original_points: Number(o.original_points),\r\n      tournament_id: Number(o.tournament_id),\r\n      tournament_name: o.tournament_name,\r\n      wppr_state: o.wppr_state as WPPRState,\r\n      current_value: currentValue,\r\n      current_points: currentPoints,\r\n      eff_percent: currentPoints / currentValue,\r\n      event_name: processedPlayerResults.find(\r\n        (item) => item.tournament_id === Number(o.tournament_id)\r\n      )?.event_name,\r\n      position: processedPlayerResults.find(\r\n        (item) => item.tournament_id === Number(o.tournament_id)\r\n      )?.position,\r\n    };\r\n  }),\r\n  [\"event_date\"],\r\n  [\"asc\"]\r\n);\r\n\r\nconst currentPoints = getCurrentPointsTotal(processedTournaments);\r\nconst overallEffPercent = getOverallEffPercent(processedTournaments);\r\n\r\ninterface PlayerResultEntry {\r\n  tournament_id: number;\r\n  position: number;\r\n  event_name: string;\r\n}\r\n\r\ninterface PlayerResultsResponse {\r\n  player_id: number;\r\n  results: PlayerResultEntry[];\r\n  results_count: number;\r\n}\r\n\r\ntype WPPRState = \"Active\" | \"NonActive\";\r\n\r\nexport interface PlayerActiveTournamentEntry {\r\n  event_date: string;\r\n  event_value: number;\r\n  original_points: number;\r\n  tournament_id: number;\r\n  tournament_name: string;\r\n  wppr_state: WPPRState;\r\n  current_value: number;\r\n  current_points: number;\r\n  eff_percent: number;\r\n  eff_percent_delta?: number;\r\n  effective_points?: number;\r\n  event_name?: string;\r\n  position?: number;\r\n}\r\n\r\nexport const WPPRv6Analysis = () => {\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    data: [],\r\n    column: \"event_date\",\r\n    direction: \"ascending\",\r\n  });\r\n  const [wpprtunity, setWpprtunity] = useState(\"1294.31\");\r\n\r\n  const adjustedPoints = useMemo(\r\n    () => getAdjustedPoints(currentPoints, overallEffPercent, wpprtunity),\r\n    [wpprtunity]\r\n  );\r\n\r\n  const newData = useMemo(\r\n    () =>\r\n      calculateEffectivePoints(\r\n        processedTournaments,\r\n        adjustedPoints,\r\n        overallEffPercent,\r\n        wpprtunity\r\n      ),\r\n    [adjustedPoints, wpprtunity]\r\n  );\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      type: \"SET_TABLE_DATA\",\r\n      data: newData,\r\n    });\r\n    dispatch({ type: \"CHANGE_SORT\", column: \"event_date\" });\r\n  }, [newData]);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        padding: \"16px\",\r\n      }}\r\n    >\r\n      <h3>WPPR v6 Analysis</h3>\r\n      <div>\r\n        <b>Player ID:</b>{\" \"}\r\n        <a\r\n          href={`https://www.ifpapinball.com/player.php?p=${PLAYER_ID}`}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          {PLAYER_ID}\r\n        </a>\r\n      </div>\r\n      <div>\r\n        <b>Current Points:</b> {currentPoints.toFixed(2)}\r\n      </div>\r\n      <div>\r\n        <b>Current Overall Eff %:</b>{\" \"}\r\n        {`${(overallEffPercent * 100).toFixed(4)}%`}\r\n      </div>\r\n      <Input\r\n        label=\"Avg. WPPRtunity\"\r\n        value={wpprtunity}\r\n        onChange={(_, data) => {\r\n          setWpprtunity(data.value);\r\n        }}\r\n        style={{ margin: \"8px\" }}\r\n      />\r\n      <div>\r\n        <b>Player WPPRtunity:</b>{\" \"}\r\n        {(currentPoints / overallEffPercent).toFixed(2)}\r\n      </div>\r\n      <div>\r\n        <b>Excess %:</b>{\" \"}\r\n        {!isNaN(Number(wpprtunity))\r\n          ? `${(\r\n              (1 - Number(wpprtunity) / (currentPoints / overallEffPercent)) *\r\n              100\r\n            ).toFixed(2)}%`\r\n          : \"\"}\r\n      </div>\r\n      <div>\r\n        <b>Adjustment:</b>{\" \"}\r\n        {adjustedPoints ? (adjustedPoints - currentPoints).toFixed(2) : \"\"}\r\n      </div>\r\n      <div>\r\n        <b>Adjusted Points (WPPR v6-PRO):</b> {adjustedPoints?.toFixed(2)}\r\n      </div>\r\n      <Table celled unstackable sortable>\r\n        <Table.Header>\r\n          <Table.Row>\r\n            <Table.HeaderCell\r\n              sorted={state.column === \"event_date\" ? state.direction : null}\r\n              onClick={() =>\r\n                dispatch({ type: \"CHANGE_SORT\", column: \"event_date\" })\r\n              }\r\n            >\r\n              Event Date\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell\r\n              sorted={\r\n                state.column === \"tournament_name\" ? state.direction : null\r\n              }\r\n              onClick={() =>\r\n                dispatch({ type: \"CHANGE_SORT\", column: \"tournament_name\" })\r\n              }\r\n            >\r\n              Tournament Name\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell\r\n              sorted={state.column === \"event_name\" ? state.direction : null}\r\n              onClick={() =>\r\n                dispatch({ type: \"CHANGE_SORT\", column: \"event_name\" })\r\n              }\r\n            >\r\n              Event Name\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell\r\n              sorted={state.column === \"position\" ? state.direction : null}\r\n              onClick={() =>\r\n                dispatch({ type: \"CHANGE_SORT\", column: \"position\" })\r\n              }\r\n            >\r\n              Position\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell\r\n              sorted={state.column === \"event_value\" ? state.direction : null}\r\n              onClick={() =>\r\n                dispatch({ type: \"CHANGE_SORT\", column: \"event_value\" })\r\n              }\r\n            >\r\n              Value\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell\r\n              sorted={\r\n                state.column === \"original_points\" ? state.direction : null\r\n              }\r\n              onClick={() =>\r\n                dispatch({ type: \"CHANGE_SORT\", column: \"original_points\" })\r\n              }\r\n            >\r\n              Points\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell\r\n              sorted={state.column === \"current_value\" ? state.direction : null}\r\n              onClick={() =>\r\n                dispatch({ type: \"CHANGE_SORT\", column: \"current_value\" })\r\n              }\r\n            >\r\n              Decay Value\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell\r\n              sorted={\r\n                state.column === \"current_points\" ? state.direction : null\r\n              }\r\n              onClick={() =>\r\n                dispatch({ type: \"CHANGE_SORT\", column: \"current_points\" })\r\n              }\r\n            >\r\n              Decay Points\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell\r\n              sorted={state.column === \"eff_percent\" ? state.direction : null}\r\n              onClick={() =>\r\n                dispatch({ type: \"CHANGE_SORT\", column: \"eff_percent\" })\r\n              }\r\n            >\r\n              Eff %\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell\r\n              sorted={\r\n                state.column === \"eff_percent_delta\" ? state.direction : null\r\n              }\r\n              onClick={() =>\r\n                dispatch({ type: \"CHANGE_SORT\", column: \"eff_percent_delta\" })\r\n              }\r\n            >\r\n              Eff % (+/-)\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell\r\n              sorted={\r\n                state.column === \"effective_points\" ? state.direction : null\r\n              }\r\n              onClick={() =>\r\n                dispatch({ type: \"CHANGE_SORT\", column: \"effective_points\" })\r\n              }\r\n            >\r\n              Adjusted Points (+/-)\r\n            </Table.HeaderCell>\r\n          </Table.Row>\r\n        </Table.Header>\r\n        <Table.Body>\r\n          {state.data.map((o: PlayerActiveTournamentEntry) => {\r\n            return (\r\n              <Table.Row key={o.tournament_id}>\r\n                <Table.Cell>{o.event_date}</Table.Cell>\r\n                <Table.Cell>\r\n                  <a\r\n                    href={`https://www.ifpapinball.com/tournaments/view.php?t=${o.tournament_id}`}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                  >\r\n                    {o.tournament_name}\r\n                  </a>\r\n                </Table.Cell>\r\n                <Table.Cell>{o.event_name}</Table.Cell>\r\n                <Table.Cell>\r\n                  {o.position ? ordinal_suffix_of(o.position) : \"\"}\r\n                </Table.Cell>\r\n                <Table.Cell textAlign=\"right\">\r\n                  {o.event_value.toFixed(2)}\r\n                </Table.Cell>\r\n                <Table.Cell textAlign=\"right\">\r\n                  {o.original_points.toFixed(2)}\r\n                </Table.Cell>\r\n                <Table.Cell textAlign=\"right\">\r\n                  {o.current_value.toFixed(2)}\r\n                </Table.Cell>\r\n                <Table.Cell textAlign=\"right\">\r\n                  {o.current_points.toFixed(2)}\r\n                </Table.Cell>\r\n                <Table.Cell textAlign=\"right\">{`${(o.eff_percent * 100).toFixed(\r\n                  2\r\n                )}%`}</Table.Cell>\r\n                <Table.Cell textAlign=\"right\">\r\n                  {o.eff_percent_delta\r\n                    ? `${o.eff_percent_delta > 0 ? \"+\" : \"\"}${(\r\n                        o.eff_percent_delta * 100\r\n                      )?.toFixed(2)}%`\r\n                    : \"\"}\r\n                </Table.Cell>\r\n                <Table.Cell textAlign=\"right\">\r\n                  {o.effective_points\r\n                    ? `${\r\n                        o.effective_points > 0 ? \"+\" : \"\"\r\n                      }${o.effective_points?.toFixed(2)}`\r\n                    : \"\"}\r\n                </Table.Cell>\r\n              </Table.Row>\r\n            );\r\n          })}\r\n        </Table.Body>\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\n","import { HashRouter as Router, Routes, Route } from \"react-router-dom\"\r\nimport FlipPghApp from \"./FlipPghApp\"\r\nimport { PPLTabWrapper } from \"./pages/ppl/PPLTabWrapper\"\r\nimport { WPPRv6Analysis } from \"./pages/WPPRv6Analysis\"\r\n\r\nexport const App = () => {\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route path=\"/ppl\" element={<PPLTabWrapper />} />\r\n        <Route path=\"/wppr-v6-analysis\" element={<WPPRv6Analysis />} />\r\n        <Route path=\"*\" element={<FlipPghApp />} />\r\n      </Routes>\r\n    </Router>\r\n  )\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport 'semantic-ui-css/semantic.min.css'\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { App } from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}